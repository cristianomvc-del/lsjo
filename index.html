<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<title>LSJO - Liga Supremos de Jogos Online</title>
<style>
/* RESET E BASE */
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
font-family: 'Segoe UI', sans-serif;
background: radial-gradient(circle, #1e2a3a 0%, #111821 100%);
color: #eee;
display: flex;
justify-content: center;
padding: 10px;
min-height: 100vh;
}
/* CONTAINER PRINCIPAL */
.container {
width: 100%;
max-width: 1200px;
background-color: #243142;
border-radius: 15px;
overflow: hidden;
box-shadow: 0 15px 50px rgba(0,0,0,0.7);
display: flex;
flex-direction: column;
border: 1px solid #34495e;
}
/* ===== HEADER RESPONSIVO ===== */
.header {
display: flex;
align-items: center;
justify-content: space-between;
padding: 20px 30px;
background: linear-gradient(135deg, #2c3e50 0%, #000000 100%);
position: relative;
border-bottom: 4px solid #f1c40f;
overflow: hidden;
flex-wrap: wrap;
}
.header::before {
content: "";
position: absolute;
top: -50%;
left: -10%;
width: 70%;
height: 200%;
background: radial-gradient(circle, rgba(52, 152, 219, 0.2) 0%, transparent 70%);
transform: rotate(-15deg);
}
.logo-area {
position: relative;
z-index: 2;
}
.logo-area h1 {
font-size: 48px;
color: #fff;
text-shadow: 0 4px 10px rgba(0,0,0,0.5);
margin: 0;
font-family: 'Arial Black', sans-serif;
line-height: 0.9;
letter-spacing: -2px;
}
.logo-area p {
font-size: 16px;
color: #f1c40f;
font-weight: bold;
margin: 0;
letter-spacing: 1px;
text-transform: uppercase;
}
.logo-area span {
font-size: 12px;
color: #bdc3c7;
display: block;
margin-top: 5px;
}
.pool-table-visual {
position: relative;
z-index: 2;
width: 250px;
height: 130px;
background: #222;
border: 6px solid #555;
border-radius: 10px;
box-shadow: 0 20px 40px rgba(0,0,0,0.8), inset 0 0 50px rgba(0,0,0,0.5);
display: flex;
align-items: center;
justify-content: center;
transform: perspective(500px) rotateX(20deg);
}
.cue-stick {
position: absolute;
width: 160px;
height: 4px;
background: linear-gradient(90deg, #63472b, #d4af37, #fff);
transform: rotate(-25deg);
top: 50px;
left: -10px;
box-shadow: 2px 5px 10px rgba(0,0,0,0.5);
border-radius: 2px;
}
.ball-8-top {
width: 60px;
height: 60px;
background: radial-gradient(circle at 30% 30%, #444, #000);
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
position: relative;
box-shadow: 5px 10px 20px rgba(0,0,0,0.6);
border: 1px solid #333;
}
.ball-8-top .inner-circle {
width: 28px;
height: 28px;
background: white;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
font-weight: 900;
color: black;
font-size: 16px;
}
.info-bar {
background-color: #ecf0f1;
padding: 8px 15px;
font-size: 12px;
color: #2c3e50;
font-weight: bold;
border-bottom: 1px solid #bdc3c7;
text-align: center;
display: flex;
justify-content: space-between;
align-items: center;
flex-wrap: wrap;
gap: 10px;
}
.total-jogadores {
background: #2c3e50;
color: #f1c40f;
padding: 4px 12px;
border-radius: 50px;
font-size: 11px;
font-weight: bold;
}
/* ===== LAYOUT PRINCIPAL RESPONSIVO ===== */
.main-content {
display: grid;
grid-template-columns: 200px 1fr 220px;
gap: 15px;
padding: 15px;
background-color: #1a2533;
}
/* Sidebars */
.sidebar-left, .sidebar-right {
display: flex;
flex-direction: column;
gap: 10px;
}
/* Bot√µes */
.btn-menu {
background: linear-gradient(180deg, #ffffff 0%, #dfe6e9 100%);
color: #2d3436;
border: 1px solid #b2bec3;
padding: 12px;
border-radius: 20px;
text-align: center;
font-weight: bold;
cursor: pointer;
font-size: 11px;
transition: 0.3s;
width: 100%;
}
.btn-menu:hover {
background: linear-gradient(180deg, #636e72 0%, #2d3436 100%);
color: white;
transform: translateY(-2px);
}
.btn-blue {
background: linear-gradient(180deg, #3498db 0%, #2980b9 100%);
color: white;
border: 1px solid #1c5980;
}
.btn-master-especial {
background: #000;
color: #f1c40f;
border: 2px solid #f1c40f;
display: none;
}
.btn-pato {
background: linear-gradient(180deg, #e67e22 0%, #d35400 100%) !important;
color: white !important;
display: none;
}
/* Bot√£o Jogos e Torneios (inicialmente ocultos) */
.btn-jogos, .btn-torneios-menu {
display: none;
}
/* Painel Central */
.center-panel {
background: #ffffff;
border-radius: 15px;
padding: 20px;
color: #2c3e50;
box-shadow: 0 5px 20px rgba(0,0,0,0.4);
overflow-x: auto;
}
.section-title {
color: white;
padding: 12px;
border-radius: 10px;
text-align: center;
margin-bottom: 20px;
font-weight: bold;
text-transform: uppercase;
}
/* Grids responsivos */
.grid-how-works {
display: grid;
grid-template-columns: repeat(2, 1fr);
gap: 15px;
margin-top: 10px;
}
.step-card {
border: 3px solid #ccc;
border-radius: 15px;
padding: 20px;
text-align: center;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
background: #fff;
min-height: 120px;
}
.step-card strong {
display: block;
font-size: 16px;
margin-bottom: 8px;
color: #333;
}
.step-card p {
font-size: 13px;
color: #666;
line-height: 1.3;
}
.card-green { border-color: #27ae60; }
.card-blue { border-color: #2980b9; }
.card-orange { border-color: #e67e22; }
.card-gold { border-color: #f1c40f; }
/* Ranking cards */
.ranking-options {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
gap: 15px;
}
.rank-card {
background: #f8f9fa;
border: 2px solid #ddd;
border-radius: 15px;
padding: 15px;
text-align: center;
cursor: pointer;
transition: 0.3s;
}
.rank-card:hover {
transform: translateY(-5px);
border-color: #2980b9;
}
.rank-icon {
width: 70px;
height: 70px;
margin: 0 auto 10px;
display: flex;
align-items: center;
justify-content: center;
font-size: 35px;
border-radius: 50%;
background: #2c3e50;
color: #fff;
border: 3px solid #f1c40f;
}
.icon-9 {
background: radial-gradient(circle at 30% 30%, #f1c40f 0%, #d4ac0d 100%);
color: #000;
border: 3px solid #fff;
}
/* ===== SE√á√ÉO DE JOGOS ===== */
.jogos-container {
display: flex;
justify-content: center;
gap: 30px;
margin: 30px 0;
flex-wrap: wrap;
}
.jogo-card {
background: linear-gradient(145deg, #2c3e50, #1e2a3a);
border-radius: 20px;
padding: 25px;
width: 260px;
text-align: center;
cursor: pointer;
transition: 0.4s;
border: 2px solid #f1c40f;
box-shadow: 0 10px 30px rgba(0,0,0,0.5);
position: relative;
overflow: hidden;
}
.jogo-card::before {
content: '';
position: absolute;
top: -50%;
left: -50%;
width: 200%;
height: 200%;
background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
transform: rotate(30deg);
transition: 0.6s;
}
.jogo-card:hover {
transform: translateY(-10px) scale(1.02);
box-shadow: 0 20px 40px rgba(241, 196, 15, 0.3);
border-color: #f39c12;
}
.jogo-card:hover::before {
transform: rotate(30deg) translate(10%, 10%);
}
.bola-jogo {
width: 120px;
height: 120px;
border-radius: 50%;
margin: 0 auto 20px;
display: flex;
align-items: center;
justify-content: center;
font-size: 48px;
font-weight: 900;
box-shadow: 0 10px 20px rgba(0,0,0,0.5), inset 0 -5px 15px rgba(0,0,0,0.6), inset 0 5px 15px rgba(255,255,255,0.3);
position: relative;
transition: 0.4s;
}
.bola-jogo::after {
content: '';
position: absolute;
top: 15px;
left: 25px;
width: 25px;
height: 25px;
background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.2) 70%);
border-radius: 50%;
opacity: 0.8;
}
.bola8 {
background: radial-gradient(circle at 30% 30%, #333, #000);
color: white;
border: 3px solid #f1c40f;
}
.bola9 {
background: radial-gradient(circle at 30% 30%, #f1c40f, #f39c12);
color: #000;
border: 3px solid white;
}
.jogo-card h3 {
color: #f1c40f;
font-size: 24px;
margin-bottom: 10px;
text-transform: uppercase;
letter-spacing: 2px;
}
.btn-jogar {
background: linear-gradient(135deg, #f1c40f, #f39c12);
color: #000;
border: none;
padding: 12px 30px;
border-radius: 50px;
font-weight: bold;
font-size: 16px;
cursor: pointer;
margin-top: 15px;
transition: 0.3s;
border: 2px solid transparent;
width: 100%;
text-transform: uppercase;
letter-spacing: 1px;
}
.btn-jogar:hover {
background: linear-gradient(135deg, #f39c12, #e67e22);
transform: scale(1.05);
border-color: white;
box-shadow: 0 5px 15px rgba(241, 196, 15, 0.4);
}
.aviso-jogos {
text-align: center;
margin: 30px auto;
padding: 20px;
max-width: 600px;
background: rgba(52, 73, 94, 0.5);
border-radius: 15px;
border-left: 4px solid #f1c40f;
border-right: 4px solid #f1c40f;
backdrop-filter: blur(5px);
}
.aviso-jogos p {
color: #ecf0f1;
font-size: 14px;
line-height: 1.6;
}
.aviso-jogos .destaque {
color: #f1c40f;
font-weight: bold;
}
.aviso-jogos .icone {
font-size: 24px;
margin-bottom: 10px;
display: block;
}
/* ===== SE√á√ÉO DE REGRAS ===== */
.regras-container {
max-width: 800px;
margin: 0 auto;
color: #2c3e50;
}
.regras-secao {
background: #f8f9fa;
border-radius: 15px;
padding: 20px;
margin-bottom: 20px;
border-left: 4px solid #f1c40f;
box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}
.regras-secao h2 {
color: #f1c40f;
font-size: 20px;
margin-bottom: 15px;
display: flex;
align-items: center;
gap: 10px;
}
.regras-secao h3 {
color: #2980b9;
font-size: 18px;
margin: 15px 0 10px;
}
.regras-secao p {
font-size: 14px;
line-height: 1.6;
color: #34495e;
margin-bottom: 10px;
}
.regras-secao ul, .regras-secao ol {
margin-left: 20px;
margin-bottom: 15px;
}
.regras-secao li {
font-size: 14px;
line-height: 1.6;
color: #34495e;
margin-bottom: 5px;
}
.regras-secao .destaque {
background: #f1c40f;
color: #000;
padding: 2px 8px;
border-radius: 4px;
font-weight: bold;
}
.regras-secao .aviso {
background: #e67e22;
color: white;
padding: 10px;
border-radius: 8px;
margin: 10px 0;
}
.regras-secao .sucesso {
background: #27ae60;
color: white;
padding: 10px;
border-radius: 8px;
margin: 10px 0;
}
.regras-secao .exemplo {
background: #ecf0f1;
padding: 10px;
border-radius: 8px;
font-family: monospace;
margin: 10px 0;
}
.badge-regra {
display: inline-block;
background: #3498db;
color: white;
padding: 3px 10px;
border-radius: 20px;
font-size: 12px;
margin-right: 5px;
}
/* ===== RANKING MODERNO COM PAGINA√á√ÉO ===== */
.tab-container {
display: flex;
gap: 8px;
margin-bottom: 20px;
border-bottom: 2px solid #eee;
padding-bottom: 10px;
flex-wrap: wrap;
}
.tab-button {
flex: 1;
padding: 12px;
border: none;
background: #f1f2f6;
cursor: pointer;
font-weight: bold;
font-size: 12px;
border-radius: 50px;
transition: 0.3s;
min-width: 100px;
display: flex;
align-items: center;
justify-content: center;
gap: 5px;
color: #475569;
border: 1px solid #e2e8f0;
}
.tab-button.active {
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
color: white;
border: none;
box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}
.tab-icon {
font-size: 14px;
}
.btn-voltar {
background: white;
border: 2px solid #e2e8f0;
padding: 10px 20px;
border-radius: 50px;
font-weight: bold;
font-size: 12px;
cursor: pointer;
margin-bottom: 20px;
display: inline-flex;
align-items: center;
gap: 8px;
transition: 0.3s;
color: #475569;
}
.btn-voltar:hover {
background: #f1f5f9;
border-color: #94a3b8;
transform: translateX(-5px);
}
.seta {
font-size: 16px;
font-weight: bold;
}
/* Ranking Table */
.ranking-table-wrapper {
background: white;
border-radius: 20px;
overflow: hidden;
box-shadow: 0 20px 40px rgba(0,0,0,0.1);
margin: 20px 0;
border: 1px solid rgba(255,255,255,0.1);
}
.ranking-table-moderno {
width: 100%;
border-collapse: collapse;
font-size: 14px;
}
.ranking-table-moderno thead tr {
background: linear-gradient(135deg, #1e293b, #0f172a);
}
.ranking-table-moderno th {
color: white;
font-weight: 600;
padding: 16px 12px;
text-transform: uppercase;
font-size: 12px;
letter-spacing: 1px;
border-bottom: 3px solid #f1c40f;
}
.ranking-table-moderno td {
padding: 14px 12px;
border-bottom: 1px solid #e2e8f0;
font-weight: 500;
}
.ranking-table-moderno tbody tr:nth-child(even) {
background-color: #f8fafc;
}
.ranking-table-moderno tbody tr:hover {
background: linear-gradient(135deg, #eef2ff, #e0e7ff);
transform: scale(1.01);
transition: 0.2s;
box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
.ranking-table-moderno tbody tr.top-1 {
background: linear-gradient(135deg, #fef9c3, #fde047);
font-weight: bold;
}
.ranking-table-moderno tbody tr.top-1:hover {
background: linear-gradient(135deg, #fde047, #facc15);
}
.ranking-table-moderno tbody tr.top-2 {
background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
}
.ranking-table-moderno tbody tr.top-3 {
background: linear-gradient(135deg, #fed7aa, #fdba74);
}
/* Estilo para slots vazios */
.slot-vazio {
opacity: 0.7;
background: linear-gradient(135deg, #f8fafc, #f1f5f9) !important;
}
.slot-vazio td {
color: #64748b !important;
font-style: italic;
}
.slot-vazio .streak-indicator {
color: #94a3b8 !important;
}
/* Ranking Cards (Mobile) */
.ranking-cards-container {
display: none;
}
/* Cards vazios no mobile */
.ranking-card.vazio {
background: linear-gradient(135deg, #f8fafc, #f1f5f9);
border: 2px dashed #cbd5e1;
}
.ranking-card.vazio .ranking-card-nome {
color: #64748b;
font-style: italic;
}
.ranking-card.vazio .ranking-card-pontos {
color: #94a3b8;
}
/* Pagina√ß√£o */
.pagination-container {
display: flex;
justify-content: center;
align-items: center;
gap: 15px;
margin: 20px 0 10px;
flex-wrap: wrap;
}
.pagination-btn {
background: white;
border: 2px solid #e2e8f0;
padding: 10px 20px;
border-radius: 50px;
font-weight: bold;
font-size: 12px;
cursor: pointer;
transition: 0.3s;
color: #475569;
display: flex;
align-items: center;
gap: 8px;
}
.pagination-btn:hover:not(:disabled) {
background: #f1f5f9;
border-color: #94a3b8;
transform: translateY(-2px);
}
.pagination-btn:disabled {
opacity: 0.3;
cursor: not-allowed;
}
.pagination-info {
background: linear-gradient(135deg, #667eea, #764ba2);
color: white;
padding: 8px 20px;
border-radius: 50px;
font-weight: bold;
font-size: 13px;
box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}
/* Mensagem de ranking vazio */
.empty-ranking-message {
text-align: center;
padding: 40px 20px;
background: linear-gradient(135deg, #f8fafc, #f1f5f9);
border-radius: 20px;
margin: 20px 0;
}
.empty-ranking-message h3 {
font-size: 18px;
color: #1e293b;
margin-bottom: 10px;
}
.empty-ranking-message p {
font-size: 14px;
color: #64748b;
margin-bottom: 20px;
}
.empty-ranking-message .icon {
font-size: 48px;
margin-bottom: 15px;
opacity: 0.5;
}
.empty-ranking-message .btn-menu {
width: auto;
padding: 10px 30px;
margin: 0 auto;
display: inline-block;
}
/* Legenda */
.ranking-legenda {
display: flex;
flex-wrap: wrap;
gap: 20px;
margin-top: 20px;
padding: 15px;
background: white;
border-radius: 15px;
box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}
.legenda-item {
display: flex;
align-items: center;
gap: 8px;
font-size: 12px;
color: #475569;
}
.legenda-cor {
width: 20px;
height: 20px;
border-radius: 50%;
display: inline-block;
}
/* Streak colors */
.streak-high {
color: #f59e0b !important;
font-weight: bold;
}
/* ===== √çCONES DO PERFIL ===== */
.icones-perfil-container {
display: flex;
justify-content: center;
gap: 10px;
margin: 15px 0;
flex-wrap: wrap;
}
.icone-perfil {
width: 40px;
height: 40px;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
font-size: 20px;
cursor: pointer;
transition: 0.3s;
box-shadow: 0 4px 10px rgba(0,0,0,0.2);
border: 2px solid transparent;
}
.icone-perfil.pato {
background: linear-gradient(135deg, #fbbf24, #f59e0b);
color: #000;
border-color: #d97706;
}
.icone-perfil.pato.disabled {
opacity: 0.3;
filter: grayscale(80%);
cursor: not-allowed;
pointer-events: none;
}
.icone-perfil.bola8 {
background: linear-gradient(135deg, #2c3e50, #000000);
color: white;
border-color: #f1c40f;
}
.icone-perfil.bola9 {
background: linear-gradient(135deg, #f1c40f, #f39c12);
color: #000;
border-color: #fff;
}
.icone-perfil.truco {
background: linear-gradient(135deg, #27ae60, #16a085);
color: #fff;
border-color: #f1c40f;
}
.icone-perfil:hover {
transform: scale(1.1) rotate(5deg);
box-shadow: 0 6px 15px rgba(241, 196, 15, 0.5);
}
.icone-perfil.inativo {
opacity: 0.3;
filter: grayscale(80%);
cursor: not-allowed;
}
.icone-perfil.inativo:hover {
transform: none;
box-shadow: none;
}
/* Avatar edit√°vel */
.avatar-container {
position: relative;
width: 60px;
height: 60px;
margin: 0 auto 10px;
}
.profile-avatar {
width: 60px;
height: 60px;
background: #34495e;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
color: white;
font-size: 30px;
border: 2px solid #f1c40f;
cursor: pointer;
transition: 0.3s;
}
.profile-avatar:hover {
transform: scale(1.05);
box-shadow: 0 0 15px #f1c40f;
}
.edit-avatar-icon {
position: absolute;
bottom: 0;
right: 0;
background: #f1c40f;
color: #000;
width: 22px;
height: 22px;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
font-size: 12px;
cursor: pointer;
border: 2px solid #fff;
transition: 0.3s;
}
.edit-avatar-icon:hover {
transform: scale(1.1);
background: #f39c12;
}
/* Modal de avatares */
.avatares-grid {
display: grid;
grid-template-columns: repeat(5, 1fr);
gap: 15px;
margin: 20px 0;
}
.avatar-opcao {
width: 50px;
height: 50px;
border-radius: 50%;
background: #34495e;
display: flex;
align-items: center;
justify-content: center;
font-size: 30px;
cursor: pointer;
border: 3px solid transparent;
transition: 0.3s;
margin: 0 auto;
}
.avatar-opcao:hover {
transform: scale(1.1);
border-color: #f1c40f;
}
.avatar-opcao.selecionado {
border-color: #f1c40f;
box-shadow: 0 0 15px #f1c40f;
}
/* Modal de sele√ß√£o de liga */
.modal-select-liga {
background: linear-gradient(135deg, #2c3e50, #1a2634);
border-radius: 25px;
padding: 30px;
max-width: 400px;
width: 90%;
border: 3px solid #f1c40f;
color: white;
text-align: center;
animation: fadeIn 0.3s ease;
}
@keyframes fadeIn {
from { opacity: 0; transform: scale(0.9); }
to { opacity: 1; transform: scale(1); }
}
.modal-select-liga h3 {
color: #f1c40f;
margin-bottom: 20px;
font-size: 22px;
}
.modal-select-liga p {
color: #bdc3c7;
margin-bottom: 20px;
font-size: 14px;
}
.opcoes-liga {
display: grid;
grid-template-columns: 1fr 1fr 1fr;
gap: 15px;
margin: 25px 0;
}
.opcao-liga {
background: rgba(255,255,255,0.1);
border-radius: 15px;
padding: 20px 5px;
cursor: pointer;
transition: 0.3s;
border: 2px solid transparent;
-webkit-tap-highlight-color: transparent;
}
.opcao-liga:active {
transform: scale(0.95);
background: rgba(241, 196, 15, 0.3);
}
.opcao-liga:hover {
transform: scale(1.05);
border-color: #f1c40f;
background: rgba(241, 196, 15, 0.2);
}
.opcao-liga .icone-grande {
font-size: 48px;
margin-bottom: 8px;
}
.opcao-liga .nome-liga {
font-size: 14px;
font-weight: bold;
color: white;
}
.btn-fechar-modal {
background: #f1c40f;
color: #000;
border: none;
padding: 15px 30px;
border-radius: 50px;
font-weight: bold;
font-size: 16px;
cursor: pointer;
margin: 20px auto 0;
display: block;
width: fit-content;
transition: 0.3s;
-webkit-tap-highlight-color: transparent;
}
.btn-fechar-modal:active {
transform: scale(0.95);
background: #f39c12;
}
.btn-fechar-modal:hover {
background: #f39c12;
transform: scale(1.05);
}
/* Mensagem de sucesso */
.success-message {
background: #27ae60;
color: white;
padding: 10px;
border-radius: 10px;
margin-top: 15px;
font-weight: bold;
animation: slideUp 0.3s ease;
}
@keyframes slideUp {
from { opacity: 0; transform: translateY(10px); }
to { opacity: 1; transform: translateY(0); }
}
/* Status de suspens√£o */
.status-suspenso {
color: #f39c12 !important;
font-weight: bold;
}
.suspenso-badge {
background: #f39c12;
color: #000;
padding: 2px 8px;
border-radius: 12px;
font-size: 10px;
font-weight: bold;
margin-left: 5px;
}
/* Estilos do Painel Master */
.master-tabs {
display: flex;
gap: 5px;
margin-bottom: 20px;
border-bottom: 2px solid #333;
padding-bottom: 10px;
flex-wrap: wrap;
}
.master-tab {
background: #2c3e50;
color: white;
border: none;
padding: 10px 20px;
border-radius: 30px 30px 0 0;
cursor: pointer;
font-weight: bold;
font-size: 12px;
transition: 0.3s;
opacity: 0.7;
}
.master-tab.active {
background: #f1c40f;
color: #000;
opacity: 1;
transform: translateY(-2px);
}
.master-panel {
background: #1a2634;
border-radius: 15px;
padding: 20px;
color: white;
margin-top: 15px;
}
.search-box {
background: #2c3e50;
border: 1px solid #f1c40f;
border-radius: 30px;
padding: 8px 15px;
margin-bottom: 20px;
display: flex;
gap: 10px;
}
.search-box input {
flex: 1;
background: transparent;
border: none;
color: white;
outline: none;
font-size: 14px;
}
.search-box input::placeholder {
color: #95a5a6;
}
.search-box button {
background: #f1c40f;
border: none;
border-radius: 20px;
padding: 5px 15px;
font-weight: bold;
cursor: pointer;
}
.master-table {
width: 100%;
border-collapse: collapse;
background: #2c3e50;
border-radius: 15px;
overflow: hidden;
font-size: 12px;
}
.master-table th {
background: #000;
color: #f1c40f;
padding: 12px;
font-weight: bold;
text-transform: uppercase;
}
.master-table td {
padding: 10px;
border-bottom: 1px solid #405060;
}
.master-table tr:hover {
background: #34495e;
}
.btn-ban {
background: #c0392b;
color: white;
border: none;
padding: 5px 10px;
border-radius: 4px;
cursor: pointer;
font-size: 11px;
}
.btn-unban {
background: #27ae60;
color: white;
border: none;
padding: 5px 10px;
border-radius: 4px;
cursor: pointer;
font-size: 11px;
}
.btn-suspend {
background: #f39c12;
color: white;
border: none;
padding: 5px 10px;
border-radius: 4px;
cursor: pointer;
font-size: 11px;
}
.btn-edit {
background: #2980b9;
color: white;
border: none;
padding: 5px 10px;
border-radius: 4px;
cursor: pointer;
font-size: 11px;
margin-right: 3px;
}
.btn-revert {
background: #f39c12;
color: white;
border: none;
padding: 5px 10px;
border-radius: 4px;
cursor: pointer;
font-size: 11px;
}
.btn-staff {
background: #8e44ad;
color: white;
border: none;
padding: 5px 10px;
border-radius: 4px;
cursor: pointer;
font-size: 11px;
}
/* ===== NOVO BOT√ÉO DE EXCLUIR ===== */
.btn-delete {
background: #c0392b;
color: white;
border: none;
padding: 5px 10px;
border-radius: 4px;
cursor: pointer;
font-size: 11px;
margin-left: 3px;
transition: 0.3s;
}
.btn-delete:hover {
background: #e74c3c;
transform: scale(1.05);
}
/* ===== NOVOS BOT√ïES DE REVERS√ÉO PARA STAFF ===== */
.btn-revert-ban {
background: #9b59b6;
color: white;
border: none;
padding: 5px 10px;
border-radius: 4px;
cursor: pointer;
font-size: 11px;
margin-left: 3px;
transition: 0.3s;
}
.btn-revert-ban:hover {
background: #8e44ad;
transform: scale(1.05);
}
.btn-revert-suspend {
background: #e67e22;
color: white;
border: none;
padding: 5px 10px;
border-radius: 4px;
cursor: pointer;
font-size: 11px;
margin-left: 3px;
transition: 0.3s;
}
.btn-revert-suspend:hover {
background: #d35400;
transform: scale(1.05);
}
.badge-staff {
background: #8e44ad;
color: white;
padding: 2px 6px;
border-radius: 4px;
font-size: 9px;
margin-left: 5px;
}
.badge-master {
background: #f1c40f;
color: #000;
padding: 2px 6px;
border-radius: 4px;
font-size: 9px;
margin-left: 5px;
}
.modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0,0,0,0.8);
z-index: 1000;
justify-content: center;
align-items: center;
}
.modal-content {
background: #2c3e50;
border-radius: 20px;
padding: 30px;
max-width: 400px;
width: 90%;
border: 3px solid #f1c40f;
}
.modal-content h3 {
color: #f1c40f;
margin-bottom: 20px;
text-align: center;
}
.modal-content input, .modal-content select {
width: 100%;
padding: 10px;
margin: 10px 0;
border-radius: 5px;
border: 1px solid #f1c40f;
background: #34495e;
color: white;
}
.modal-buttons {
display: flex;
gap: 10px;
margin-top: 20px;
}
.modal-buttons button {
flex: 1;
padding: 10px;
border: none;
border-radius: 5px;
font-weight: bold;
cursor: pointer;
}
.modal-confirm {
background: #27ae60;
color: white;
}
.modal-cancel {
background: #c0392b;
color: white;
}
.notificacao-item {
background: #2c3e50;
border-left: 4px solid #f1c40f;
padding: 12px;
margin-bottom: 10px;
border-radius: 0 8px 8px 0;
font-size: 12px;
}
.notificacao-item .vencedor {
color: #27ae60;
font-weight: bold;
}
.notificacao-item .perdedor {
color: #c0392b;
font-weight: bold;
}
.notificacao-item .tempo {
color: #f1c40f;
font-size: 10px;
margin-top: 5px;
}
.badge {
background: #f1c40f;
color: #000;
padding: 2px 8px;
border-radius: 12px;
font-size: 10px;
font-weight: bold;
margin-left: 5px;
}
/* Estilo para links no ranking */
.jogador-link {
cursor: pointer;
transition: 0.3s;
font-weight: 500;
}
.jogador-link:hover {
color: #27ae60 !important;
text-decoration: underline;
}
.jogador-banido {
color: #c0392b !important;
}
.jogador-suspenso {
color: #f39c12 !important;
}
/* ===== ESTILO PARA √öLTIMAS NOTIFICA√á√ïES ===== */
.notificacao-item-publico {
background: #f8f9fa;
border-radius: 10px;
padding: 10px;
margin-bottom: 8px;
border-left: 4px solid;
transition: 0.3s;
font-size: 12px;
box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
.notificacao-item-publico:hover {
transform: translateX(3px);
box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
.notificacao-item-publico.liga-bola8 { border-left-color: #2c3e50; }
.notificacao-item-publico.liga-bola9 { border-left-color: #f1c40f; }
.notificacao-item-publico.liga-truco { border-left-color: #27ae60; }
.notificacao-header {
display: flex;
align-items: center;
gap: 6px;
margin-bottom: 5px;
font-weight: bold;
}
.notificacao-icone-liga {
font-size: 14px;
}
.notificacao-vencedor {
color: #27ae60;
}
.notificacao-perdedor {
color: #c0392b;
}
.notificacao-detalhes {
display: flex;
justify-content: space-between;
align-items: center;
color: #666;
font-size: 11px;
margin-left: 20px;
}
.notificacao-quantidade {
background: #ecf0f1;
padding: 2px 8px;
border-radius: 12px;
font-weight: bold;
color: #2c3e50;
}
.notificacao-tempo {
color: #7f8c8d;
display: flex;
align-items: center;
gap: 3px;
}
.notificacao-tempo::before {
content: "üïê";
font-size: 10px;
}
/* ===== NOVOS ESTILOS PARA O CONTADOR REGRESSIVO ===== */
.contador-suspensao {
background: rgba(241, 196, 15, 0.15);
border-radius: 12px;
padding: 15px;
margin: 15px 0;
text-align: center;
border: 2px solid #f39c12;
animation: pulse 2s infinite;
}
@keyframes pulse {
0% { box-shadow: 0 0 0 0 rgba(241, 196, 15, 0.4); }
70% { box-shadow: 0 0 0 10px rgba(241, 196, 15, 0); }
100% { box-shadow: 0 0 0 0 rgba(241, 196, 15, 0); }
}
.contador-titulo {
color: #f39c12;
font-size: 12px;
text-transform: uppercase;
letter-spacing: 1px;
margin-bottom: 8px;
font-weight: bold;
}
.contador-tempo {
font-size: 32px;
font-weight: 900;
color: #f1c40f;
line-height: 1.2;
font-family: 'Courier New', monospace;
text-shadow: 0 0 10px rgba(241, 196, 15, 0.5);
}
.contador-legenda {
font-size: 11px;
color: #bdc3c7;
margin-top: 5px;
}
.contador-data {
font-size: 12px;
color: #ecf0f1;
background: rgba(0,0,0,0.3);
padding: 5px;
border-radius: 20px;
margin-top: 8px;
}
/* Estilo para quando o tempo est√° acabando */
.contador-urgente .contador-tempo {
color: #e74c3c;
animation: blink 1s infinite;
}
@keyframes blink {
0% { opacity: 1; }
50% { opacity: 0.5; }
100% { opacity: 1; }
}
/* ===== MODAIS DE ESTAT√çSTICAS ===== */
.estatisticas-modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0,0,0,0.8);
z-index: 2000;
justify-content: center;
align-items: center;
}
.modal-content-estatisticas {
background: linear-gradient(135deg, #2c3e50, #1a2634);
border-radius: 25px;
padding: 30px;
max-width: 450px;
width: 90%;
border: 3px solid #f1c40f;
color: white;
position: relative;
animation: slideIn 0.3s ease;
}
@keyframes slideIn {
from {
transform: translateY(-50px);
opacity: 0;
}
to {
transform: translateY(0);
opacity: 1;
}
}
.modal-header {
text-align: center;
margin-bottom: 20px;
padding-bottom: 15px;
border-bottom: 2px solid #f1c40f;
}
.modal-header h2 {
color: #f1c40f;
font-size: 24px;
margin-top: 10px;
}
.modal-close {
position: absolute;
top: 15px;
right: 20px;
font-size: 28px;
cursor: pointer;
color: #f1c40f;
transition: 0.3s;
}
.modal-close:hover {
transform: scale(1.2);
color: #e67e22;
}
.estatisticas-grid {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 15px;
margin: 20px 0;
}
.estatistica-card {
background: rgba(255,255,255,0.1);
border-radius: 15px;
padding: 15px;
text-align: center;
backdrop-filter: blur(5px);
border: 1px solid rgba(241, 196, 15, 0.3);
}
.estatistica-card .valor {
font-size: 28px;
font-weight: bold;
color: #f1c40f;
margin: 5px 0;
}
.estatistica-card .rotulo {
font-size: 11px;
color: #bdc3c7;
text-transform: uppercase;
}
.ranking-posicao {
display: flex;
align-items: center;
justify-content: center;
gap: 10px;
margin: 15px 0;
padding: 15px;
background: rgba(0,0,0,0.3);
border-radius: 50px;
}
.ranking-posicao .posicao-numero {
font-size: 32px;
font-weight: 900;
color: #f1c40f;
}
.ranking-posicao .posicao-label {
font-size: 12px;
color: #bdc3c7;
}
.streak-info {
display: flex;
align-items: center;
justify-content: center;
gap: 5px;
font-size: 18px;
}
.streak-info .fire {
color: #f59e0b;
font-size: 24px;
}
.btn-fechar-modal {
background: #f1c40f;
color: #000;
border: none;
padding: 12px 30px;
border-radius: 50px;
font-weight: bold;
cursor: pointer;
margin: 20px auto 0;
display: block;
width: fit-content;
transition: 0.3s;
}
.btn-fechar-modal:hover {
background: #f39c12;
transform: scale(1.05);
}
/* Formul√°rios responsivos */
.form-group {
display: grid;
grid-template-columns: 140px 1fr;
margin-bottom: 15px;
align-items: center;
text-align: left;
}
.form-group label {
font-weight: bold;
font-size: 13px;
color: #333;
}
.form-group input,
.form-group select {
padding: 10px 12px;
border: 1px solid #ccc;
border-radius: 5px;
background: #f9f9f9;
font-size: 14px;
outline: none;
width: 100%;
}
.form-group small {
font-size: 11px;
color: #7f8c8d;
margin-top: 3px;
display: block;
}
.form-group input[type="checkbox"] {
width: auto;
margin-right: 5px;
}
.form-group a {
color: #2980b9;
text-decoration: none;
}
.form-group a:hover {
text-decoration: underline;
}
.btn-submit {
background: linear-gradient(180deg, #3498db 0%, #2980b9 100%);
color: white;
border: none;
padding: 15px;
width: 80%;
border-radius: 30px;
font-weight: bold;
cursor: pointer;
margin: 20px auto 0;
display: block;
}
/* Sidebar direita */
.right-box {
background: white;
border-radius: 12px;
overflow: hidden;
margin-bottom: 15px;
color: #2c3e50;
box-shadow: 0 4px 6px rgba(0,0,0,0.2);
}
.right-box-title {
background: #2c3e50;
color: white;
padding: 8px;
font-size: 12px;
text-align: center;
font-weight: bold;
text-transform: uppercase;
}
.right-box-content {
padding: 15px;
font-size: 12px;
}
.login-input {
width: 100%;
padding: 10px;
margin-bottom: 10px;
border: 1px solid #ddd;
border-radius: 4px;
}
/* NOVO ESTILO PARA CONTAINER DE SENHA */
.password-container {
position: relative;
margin-bottom: 10px;
}
.password-toggle {
position: absolute;
right: 10px;
top: 50%;
transform: translateY(-50%);
cursor: pointer;
user-select: none;
font-size: 18px;
color: #666;
z-index: 10;
}
.password-toggle:hover {
color: #2c3e50;
}
.btn-login {
width: 100%;
padding: 10px;
background: #27ae60;
color: white;
border: none;
border-radius: 4px;
cursor: pointer;
font-weight: bold;
}
.profile-card {
text-align: center;
}
.profile-stats {
display: grid;
grid-template-columns: 1fr 1fr 1fr;
gap: 5px;
margin: 15px 0;
}
.stat-item {
background: #f0f0f0;
padding: 5px;
border-radius: 4px;
font-size: 11px;
}
.btn-action {
width: 100%;
padding: 8px;
margin-top: 8px;
font-size: 11px;
border-radius: 4px;
border: none;
cursor: pointer;
font-weight: bold;
}
.btn-join { background: #f1c40f; color: #000; }
.btn-special { background: #8e44ad; color: #fff; }
.btn-logout { background: #c0392b; color: #fff; }
.footer-line {
padding: 15px;
text-align: center;
color: #7f8c8d;
font-size: 12px;
}
/* ===== ESTILOS PARA TORNEIOS (NOVOS) ===== */
.torneios-grid { 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
    gap: 20px; 
}
.torneio-card { 
    background: linear-gradient(145deg, #2c3e50, #1e2a3a); 
    border-radius: 15px; 
    padding: 20px; 
    border: 2px solid #f1c40f;
    color: white;
    transition: transform 0.2s;
}
.torneio-card:hover {
    transform: translateY(-5px);
}
.torneio-status { 
    display: inline-block; 
    padding: 4px 12px; 
    border-radius: 20px; 
    font-size: 11px; 
    font-weight: bold;
    margin-bottom: 10px;
}
.status-inscricoes { background: #3498db; color: white; }
.status-andamento { background: #27ae60; color: white; }
.status-finalizado { background: #95a5a6; color: white; }
.partida-card { 
    background: rgba(0,0,0,0.3); 
    border-radius: 12px; 
    padding: 15px; 
    margin: 15px 0; 
    border-left: 4px solid #f1c40f; 
}
.btn-torneio-derrota { 
    background: #e67e22; 
    color: white; 
    border: none; 
    padding: 12px; 
    border-radius: 8px; 
    font-weight: bold; 
    width: 100%; 
    cursor: pointer;
    margin-top: 10px;
}
.btn-torneio-derrota:hover {
    background: #d35400;
}
.chave-container { 
    display: flex; 
    overflow-x: auto; 
    gap: 20px; 
    padding: 20px 0; 
}
.chave-rodada { 
    min-width: 200px; 
}
.chave-partida { 
    background: #2c3e50; 
    border-radius: 10px; 
    padding: 10px; 
    margin-bottom: 10px; 
    border: 1px solid #f1c40f;
    color: white;
    font-size: 12px;
}
.conquistas-container, .condecoracoes-container { 
    margin-top: 15px; 
    padding: 10px; 
    background: #f8f9fa; 
    border-radius: 8px; 
}
.conquistas-title, .condecoracoes-title { 
    font-weight: bold; 
    color: #f1c40f; 
    margin-bottom: 8px;
    font-size: 13px;
    display: flex;
    align-items: center;
    gap: 5px;
}
.conquista-item, .condecoracao-item { 
    font-size: 11px; 
    padding: 4px; 
    border-bottom: 1px solid #eee;
    color: #2c3e50;
    display: flex;
    align-items: center;
    gap: 5px;
}
.emblema-mestre { color: #f1c40f; font-weight: bold; }
.emblema-streak { color: #e67e22; font-weight: bold; }

.btn-torneio-inscricao {
    background: #27ae60;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    width: 100%;
    margin-top: 10px;
}
.btn-torneio-inscricao:hover {
    background: #219a52;
}
.btn-torneio-inscricao:disabled {
    background: #95a5a6;
    cursor: not-allowed;
}
.torneio-info {
    font-size: 12px;
    color: #bdc3c7;
    margin: 8px 0;
}
.torneio-participantes {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
    margin: 10px 0;
}
.participante-badge {
    background: rgba(241, 196, 15, 0.2);
    padding: 3px 8px;
    border-radius: 12px;
    font-size: 10px;
    color: #f1c40f;
}
.master-tab-torneios {
    background: #2c3e50;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 30px 30px 0 0;
    cursor: pointer;
    font-weight: bold;
    font-size: 12px;
    transition: 0.3s;
    opacity: 0.7;
}
.master-tab-torneios.active {
    background: #f1c40f;
    color: #000;
    opacity: 1;
    transform: translateY(-2px);
}

/* ===== MEDIA QUERIES ===== */
@media (max-width: 992px) {
.main-content {
grid-template-columns: 180px 1fr;
gap: 15px;
}
.sidebar-right {
grid-column: span 2;
display: grid;
grid-template-columns: 1fr 1fr;
gap: 15px;
}
.logo-area h1 {
font-size: 42px;
}
.pool-table-visual {
width: 200px;
height: 110px;
}
}
@media (max-width: 768px) {
.header {
flex-direction: column;
text-align: center;
padding: 15px;
}
.logo-area h1 {
font-size: 38px;
}
.logo-area p {
font-size: 14px;
}
.pool-table-visual {
margin-top: 15px;
width: 180px;
height: 100px;
}
.cue-stick {
width: 120px;
top: 40px;
}
.ball-8-top {
width: 50px;
height: 50px;
}
.ball-8-top .inner-circle {
width: 22px;
height: 22px;
font-size: 14px;
}
.ranking-table-wrapper {
display: none;
}
.ranking-cards-container {
display: flex;
flex-direction: column;
gap: 12px;
margin: 20px 0;
}
.ranking-card {
background: white;
border-radius: 16px;
padding: 16px;
display: flex;
align-items: center;
gap: 15px;
box-shadow: 0 8px 20px rgba(0,0,0,0.06);
border: 1px solid #e2e8f0;
transition: 0.3s;
position: relative;
overflow: hidden;
}
.ranking-card:hover {
transform: translateY(-3px);
box-shadow: 0 12px 30px rgba(0,0,0,0.1);
}
.ranking-card::before {
content: '';
position: absolute;
left: 0;
top: 0;
bottom: 0;
width: 6px;
background: linear-gradient(180deg, #94a3b8, #64748b);
}
.ranking-card.top-1::before {
background: linear-gradient(180deg, #fbbf24, #f59e0b);
}
.ranking-card.top-2::before {
background: linear-gradient(180deg, #94a3b8, #64748b);
}
.ranking-card.top-3::before {
background: linear-gradient(180deg, #fca5a5, #ef4444);
}
.ranking-card-avatar {
width: 50px;
height: 50px;
background: linear-gradient(135deg, #94a3b8, #64748b);
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
color: white;
font-size: 24px;
}
.ranking-card.top-1 .ranking-card-avatar {
background: linear-gradient(135deg, #fbbf24, #f59e0b);
}
.ranking-card.top-2 .ranking-card-avatar {
background: linear-gradient(135deg, #94a3b8, #64748b);
}
.ranking-card.top-3 .ranking-card-avatar {
background: linear-gradient(135deg, #fca5a5, #ef4444);
}
.ranking-card-info {
flex: 1;
}
.ranking-card-nome {
font-weight: 700;
font-size: 16px;
color: #0f172a;
margin-bottom: 4px;
}
.ranking-card-detalhes {
display: flex;
gap: 15px;
font-size: 12px;
color: #64748b;
}
.ranking-card-posicao {
font-size: 20px;
font-weight: 900;
min-width: 40px;
text-align: center;
color: #f1c40f;
}
.ranking-card-pontos {
font-weight: 700;
color: #2980b9;
font-size: 18px;
min-width: 60px;
text-align: right;
}
.ranking-card.vazio .ranking-card-avatar {
background: linear-gradient(135deg, #cbd5e1, #94a3b8);
}
.ranking-card.vazio .ranking-card-pontos {
color: #94a3b8;
}
.grid-how-works {
gap: 10px;
}
.step-card {
padding: 15px;
min-height: 100px;
}
.step-card strong {
font-size: 14px;
}
.info-bar {
flex-direction: column;
text-align: center;
}
.avatares-grid {
grid-template-columns: repeat(3, 1fr);
}
.jogos-container {
gap: 20px;
}
.jogo-card {
width: 220px;
padding: 20px;
}
.bola-jogo {
width: 100px;
height: 100px;
font-size: 40px;
}
.regras-secao h2 {
font-size: 18px;
}
}
@media (max-width: 576px) {
body {
padding: 5px;
}
.main-content {
grid-template-columns: 1fr;
gap: 15px;
padding: 10px;
}
.sidebar-left {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 8px;
}
.sidebar-right {
grid-template-columns: 1fr;
gap: 10px;
}
.btn-menu {
padding: 10px;
font-size: 10px;
border-radius: 15px;
}
.center-panel {
padding: 12px;
}
.section-title {
font-size: 14px;
padding: 10px;
}
.grid-how-works {
grid-template-columns: 1fr;
gap: 10px;
}
.ranking-options {
grid-template-columns: 1fr;
gap: 10px;
}
.rank-card {
padding: 12px;
}
.rank-icon {
width: 60px;
height: 60px;
font-size: 30px;
}
.form-group {
grid-template-columns: 1fr;
gap: 5px;
}
.form-group label {
margin-bottom: 2px;
}
.form-group > div[style*="display: flex"] {
flex-direction: row !important;
flex-wrap: wrap;
}
#dia-nasc, #mes-nasc, #ano-nasc {
min-width: calc(33.33% - 5px) !important;
flex: 1 !important;
}
.form-group select {
width: 100%;
}
.btn-submit {
width: 100%;
padding: 12px;
font-size: 14px;
}
.tab-button {
font-size: 11px;
padding: 10px;
min-width: 80px;
}
.profile-stats {
grid-template-columns: 1fr;
gap: 8px;
}
.stat-item {
padding: 8px;
}
.ranking-card {
padding: 12px;
flex-wrap: wrap;
}
.ranking-card-avatar {
width: 40px;
height: 40px;
font-size: 20px;
}
.ranking-card-nome {
font-size: 14px;
}
.ranking-card-pontos {
font-size: 16px;
}
.ranking-card-posicao {
width: 100%;
text-align: left;
margin-bottom: 5px;
}
.pagination-container {
gap: 10px;
}
.pagination-btn {
padding: 8px 15px;
font-size: 11px;
}
.pagination-info {
padding: 6px 15px;
font-size: 12px;
}
.master-table {
font-size: 10px;
}
.master-table th, .master-table td {
padding: 6px;
}
.btn-edit, .btn-ban, .btn-unban, .btn-revert, .btn-suspend, .btn-staff, .btn-delete, .btn-revert-ban, .btn-revert-suspend {
padding: 3px 6px;
font-size: 9px;
}
.icones-perfil-container {
gap: 8px;
}
.icone-perfil {
width: 45px;
height: 45px;
font-size: 22px;
}
.opcoes-liga {
gap: 10px;
}
.opcao-liga .icone-grande {
font-size: 40px;
}
.avatares-grid {
grid-template-columns: repeat(2, 1fr);
}
.jogos-container {
flex-direction: column;
align-items: center;
}
.jogo-card {
width: 100%;
max-width: 280px;
}
.regras-secao {
padding: 15px;
}
.contador-tempo {
font-size: 24px;
}
.torneios-grid {
    grid-template-columns: 1fr;
}
}
@media (max-width: 400px) {
.logo-area h1 {
font-size: 32px;
}
.logo-area p {
font-size: 12px;
}
.sidebar-left {
grid-template-columns: 1fr;
}
.btn-menu {
font-size: 12px;
padding: 12px;
}
.pool-table-visual {
width: 150px;
height: 85px;
}
.cue-stick {
width: 100px;
top: 35px;
}
#dia-nasc, #mes-nasc, #ano-nasc {
min-width: 100% !important;
margin-bottom: 5px;
}
.icone-perfil {
width: 40px;
height: 40px;
font-size: 20px;
}
.opcao-liga .icone-grande {
font-size: 36px;
}
.contador-tempo {
font-size: 20px;
}
}
.char-counter {
font-size: 10px;
color: #2980b9;
display: block;
margin-top: 3px;
}
/* ===== NOVOS ESTILOS DO TRUCO ===== */
.truco-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 20px;
padding: 10px;
background: linear-gradient(135deg, #27ae60, #16a085);
border-radius: 15px;
color: white;
}
.btn-voltar-jogos {
background: #f1c40f;
color: #000;
border: none;
padding: 10px 20px;
border-radius: 50px;
font-weight: bold;
cursor: pointer;
transition: 0.3s;
}
.btn-voltar-jogos:hover {
transform: scale(1.05);
box-shadow: 0 5px 15px rgba(241, 196, 15, 0.5);
}
.truco-tabs {
display: flex;
gap: 10px;
margin-bottom: 20px;
flex-wrap: wrap;
}
.truco-tab {
flex: 1;
padding: 12px;
background: #ecf0f1;
border: none;
border-radius: 10px;
font-weight: bold;
cursor: pointer;
transition: 0.3s;
min-width: 100px;
color: #2c3e50;
}
.truco-tab.active {
background: #27ae60;
color: white;
box-shadow: 0 4px 12px rgba(39, 174, 96, 0.3);
}
.matchmaking-container {
background: linear-gradient(135deg, #1e3c2a, #0f2a1b);
border-radius: 20px;
padding: 30px;
text-align: center;
border: 3px solid #f1c40f;
margin: 20px 0;
}
.matchmaking-status {
font-size: 18px;
color: #f1c40f;
margin: 20px 0;
padding: 15px;
background: rgba(0,0,0,0.3);
border-radius: 50px;
}
.loading-spinner {
width: 50px;
height: 50px;
border: 5px solid #f1c40f;
border-top-color: transparent;
border-radius: 50%;
animation: spin 1s linear infinite;
margin: 20px auto;
}
@keyframes spin {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}
.btn-matchmaking {
background: linear-gradient(135deg, #f1c40f, #f39c12);
color: #000;
border: none;
padding: 15px 40px;
border-radius: 50px;
font-weight: bold;
font-size: 18px;
cursor: pointer;
transition: 0.3s;
margin: 10px;
border: 2px solid transparent;
}
.btn-matchmaking:hover {
transform: scale(1.05);
border-color: white;
box-shadow: 0 5px 20px rgba(241, 196, 15, 0.5);
}
.btn-matchmaking.cancelar {
background: linear-gradient(135deg, #c0392b, #e74c3c);
color: white;
}
.sala-privada {
margin-top: 30px;
padding: 20px;
background: rgba(0,0,0,0.2);
border-radius: 15px;
}
.sala-privada h3 {
color: #f1c40f;
margin-bottom: 15px;
}
.sala-privada input {
padding: 12px;
border-radius: 8px;
border: 2px solid #f1c40f;
background: #34495e;
color: white;
width: 200px;
margin: 10px;
font-size: 16px;
text-align: center;
}
.mesa-truco {
background: linear-gradient(145deg, #2d6a4f, #1b4d3b);
border-radius: 60px 60px 30px 30px;
padding: 20px;
border: 12px solid #8b5a2b;
position: relative;
margin: 20px 0;
box-shadow: 0 15px 30px rgba(0,0,0,0.6);
}
.oponente-area, .jogador-area {
display: flex;
align-items: center;
gap: 15px;
background: rgba(0,0,0,0.2);
border-radius: 40px;
padding: 10px 20px;
border: 2px solid #ffd700;
}
.info-jogador-truco {
background: linear-gradient(145deg, #2c3e50, #1e2b38);
color: white;
padding: 8px 15px;
border-radius: 30px;
min-width: 120px;
text-align: center;
border: 2px solid #ffd700;
}
.jogador-nome-truco {
font-size: 14px;
font-weight: bold;
color: #ffd700;
display: block;
}
.cartas-container {
display: flex;
gap: 8px;
flex: 1;
justify-content: center;
min-height: 90px;
}
.carta {
width: 60px;
height: 84px;
background: white;
border-radius: 8px;
box-shadow: 0 5px 10px rgba(0,0,0,0.6);
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
font-size: 26px;
font-weight: bold;
cursor: pointer;
transition: all 0.2s;
background: linear-gradient(145deg, #f9f9f9, #e6e6e6);
border: 1px solid rgba(0,0,0,0.2);
}
.carta:hover:not(.disabled) {
transform: translateY(-8px);
box-shadow: 0 10px 20px rgba(0,0,0,0.7), 0 0 0 2px #ffd700;
z-index: 10;
}
.carta.disabled {
opacity: 0.5;
cursor: not-allowed;
pointer-events: none;
}
.carta .valor { font-size: 26px; font-weight: 800; }
.carta .naipe { font-size: 22px; margin-top: 2px; }
.carta.ouros .valor, .carta.ouros .naipe { color: #e67e22; }
.carta.espadas .valor, .carta.espadas .naipe { color: #2c3e50; }
.carta.copas .valor, .carta.copas .naipe { color: #c0392b; }
.carta.paus .valor, .carta.paus .naipe { color: #27ae60; }
.carta.virada {
background: linear-gradient(135deg, #1e3c2a, #0f2a1b);
border: 2px solid #8b5a2b;
position: relative;
overflow: hidden;
}
.carta.virada .valor, .carta.virada .naipe { display: none; }
.centro-mesa {
display: flex;
justify-content: center;
align-items: center;
gap: 20px;
margin: 20px 0;
background: rgba(0,0,0,0.2);
padding: 12px 30px;
border-radius: 60px;
border: 2px solid #ffd700;
}
.vira-container {
display: flex;
flex-direction: column;
align-items: center;
gap: 3px;
}
.vira-label {
color: #ffd700;
font-size: 12px;
font-weight: bold;
background: rgba(0,0,0,0.5);
padding: 3px 10px;
border-radius: 15px;
border: 1px solid #ffd700;
}
.area-jogada {
display: flex;
gap: 20px;
background: rgba(0,0,0,0.3);
padding: 10px 30px;
border-radius: 40px;
border: 2px dashed #ffd700;
}
.carta-jogada {
width: 60px;
height: 84px;
background: rgba(255,255,255,0.05);
border-radius: 8px;
border: 2px solid rgba(255,215,0,0.3);
display: flex;
justify-content: center;
align-items: center;
}
.controles-container {
display: flex;
justify-content: center;
gap: 8px;
margin: 15px 0 8px;
flex-wrap: wrap;
}
.btn-acao-truco {
padding: 8px 18px;
font-size: 14px;
font-weight: bold;
border: none;
border-radius: 30px;
cursor: pointer;
border: 2px solid #ffd700;
transition: all 0.2s;
min-width: 90px;
text-transform: uppercase;
}
.btn-acao-truco:hover:not(:disabled) {
transform: scale(1.03);
box-shadow: 0 0 15px #ffd700;
}
.btn-acao-truco:disabled {
opacity: 0.5;
cursor: not-allowed;
}
.btn-truco-pedir { background: #e67e22; color: white; }
.btn-aceitar { background: #27ae60; color: white; }
.btn-correr { background: #c0392b; color: white; }
.btn-aumentar { background: #e67e22; color: white; }
.status-jogo {
text-align: center;
color: #ffd700;
font-size: 14px;
background: rgba(0,0,0,0.5);
padding: 6px 15px;
border-radius: 30px;
border: 2px solid #ffd700;
margin-top: 8px;
}
.chat-truco {
margin-top: 15px;
background: rgba(0,0,0,0.3);
border-radius: 15px;
padding: 10px;
}
.chat-mensagens {
max-height: 100px;
overflow-y: auto;
padding: 5px;
font-size: 12px;
color: #bdc3c7;
}
.chat-mensagens div {
padding: 3px 5px;
border-bottom: 1px solid rgba(255,255,255,0.1);
}
.chat-input {
display: flex;
gap: 5px;
margin-top: 5px;
}
.chat-input input {
flex: 1;
padding: 8px;
border-radius: 5px;
border: 1px solid #f1c40f;
background: #34495e;
color: white;
outline: none;
}
.chat-input button {
padding: 8px 15px;
background: #f1c40f;
border: none;
border-radius: 5px;
cursor: pointer;
font-weight: bold;
}
.chat-input button:hover {
background: #f39c12;
}
.historico-partidas {
margin-top: 20px;
}
.partida-item {
background: linear-gradient(135deg, #2c3e50, #1e2a3a);
border-radius: 12px;
padding: 15px;
margin-bottom: 10px;
border-left: 4px solid;
transition: 0.3s;
cursor: pointer;
}
.partida-item:hover {
transform: translateX(5px);
}
.partida-item.vitoria { border-left-color: #27ae60; }
.partida-item.derrota { border-left-color: #c0392b; }
.partida-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 8px;
}
.partida-jogadores {
font-size: 16px;
font-weight: bold;
color: #f1c40f;
}
.partida-resultado {
padding: 4px 12px;
border-radius: 20px;
font-size: 12px;
font-weight: bold;
}
.resultado-vitoria { background: #27ae60; color: white; }
.resultado-derrota { background: #c0392b; color: white; }
.partida-detalhes {
display: flex;
gap: 20px;
color: #bdc3c7;
font-size: 12px;
margin-top: 8px;
}
@media (max-width: 768px) {
.carta { width: 50px; height: 70px; font-size: 20px; }
.carta-jogada { width: 50px; height: 70px; }
.info-jogador-truco { min-width: 100px; padding: 5px; }
.btn-acao-truco { padding: 6px 12px; font-size: 12px; min-width: 70px; }
}
@media (max-width: 576px) {
.carta { width: 40px; height: 56px; font-size: 16px; }
.carta-jogada { width: 40px; height: 56px; }
.centro-mesa { flex-direction: column; padding: 10px; }
.area-jogada { padding: 10px; }
.btn-matchmaking { padding: 10px 20px; font-size: 14px; }
}
</style>
<!-- Adicionar CryptoJS para hash SHA256 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body><div class="container">
<header class="header">
<div class="logo-area">
<h1>LSJO</h1>
<p>Liga Supremos de Jogos Online</p>
<span>Liderando a divers√£o desde 2026</span>
</div>
<div class="pool-table-visual">
<div class="cue-stick"></div>
<div class="ball-8-top"><div class="inner-circle">8</div></div>
</div>
</header>
<div class="info-bar" id="relogio">
<span>üìÖ Carregando data e hora...</span>
<span class="total-jogadores" id="total-jogadores-info">üë• Total: 0 jogadores</span>
</div>
<div class="main-content">
<aside class="sidebar-left">
<button class="btn-menu" onclick="showSection('home')">üè† HOME</button>
<button class="btn-menu btn-pato" id="nav-pato" onclick="showSection('notificar')">ü¶Ü NOTIFICAR</button>
<button class="btn-menu btn-master-especial" id="nav-master" onclick="showSection('master')">üëë PAINEL MASTER</button>
<!-- Bot√£o Jogos (aparece ap√≥s login) -->
<button class="btn-menu btn-blue btn-jogos" id="nav-jogos" onclick="showSection('jogos')">üéÆ JOGOS</button>
<button class="btn-menu btn-blue" onclick="showSection('rankings-hub')">üèÜ RANKINGS</button>
<!-- BOT√ÉO TORNEIOS (OCULTO AT√â LOGIN) -->
<button class="btn-menu btn-blue btn-torneios-menu" id="nav-torneios" onclick="showSection('torneios')">üèÜ TORNEIOS</button>
<button class="btn-menu" id="nav-cadastro" onclick="showSection('cadastro')">üìù CADASTRO</button>
<button class="btn-menu" onclick="showSection('regras')">üìú REGRAS</button>
<button class="btn-menu">üìß CONTATO</button>
</aside>
<main class="center-panel">
<section id="section-home">
<div class="section-title" style="background: #2980b9;">üè† PAGINA INICIAL LSJO</div>
<div class="grid-how-works">
<div class="step-card card-green"><strong>üìù 1. CADASTRE-SE</strong><p>Crie sua conta e receba seu ID exclusivo.</p></div>
<div class="step-card card-blue"><strong>üéÆ 2. JOGUE</strong><p>Desafie advers√°rios em nossos servidores parceiros.</p></div>
<div class="step-card card-orange"><strong>üì¢ 3. NOTIFIQUE</strong><p>Ao perder, envie o resultado para validar o ranking.</p></div>
<div class="step-card card-gold"><strong>üèÜ 4. RANKING</strong><p>Acompanhe sua posi√ß√£o e torne-se um Supremo.</p></div>
</div>
</section>
<!-- SE√á√ÉO DE JOGOS -->
<section id="section-jogos" style="display:none;">
<div class="section-title" style="background: linear-gradient(135deg, #e67e22, #d35400);">
üéÆ JOGOS ONLINE
</div>
<div class="jogos-container">
<!-- Card Bola 8 -->
<div class="jogo-card" onclick="window.open('https://www.flyordie.com/pt_BR/bola8', '_blank')">
<div class="bola-jogo bola8">üé±</div>
<h3>BOLA 8</h3>
<p style="color: #bdc3c7; margin: 10px 0; font-size: 13px;">O cl√°ssico jogo de sinuca</p>
<button class="btn-jogar">JOGAR AGORA</button>
</div>
<!-- Card Bola 9 -->
<div class="jogo-card" onclick="window.open('https://www.flyordie.com/pt_BR/bola9', '_blank')">
<div class="bola-jogo bola9">9</div>
<h3>BOLA 9</h3>
<p style="color: #bdc3c7; margin: 10px 0; font-size: 13px;">Modo competitivo com 9 bolas</p>
<button class="btn-jogar">JOGAR AGORA</button>
</div>
<!-- Card Truco (ALTERADO PARA ABRIR NOVA SE√á√ÉO) -->
<div class="jogo-card" onclick="showSection('truco-game')">
<div class="bola-jogo bola8" style="background: radial-gradient(circle at 30% 30%, #27ae60, #16a085);">üÉè</div>
<h3>TRUCO</h3>
<p style="color: #bdc3c7; margin: 10px 0; font-size: 13px;">Multiplayer online integrado ao ranking LSJO</p>
<button class="btn-jogar">JOGAR AGORA</button>
</div>
</div>
<!-- Aviso de responsabilidade -->
<div class="aviso-jogos">
<span class="icone">üéØ</span>
<p>
<span class="destaque">Os jogos s√£o hospedados por terceiros.</span><br>
O LSJO n√£o √© respons√°vel pelo conte√∫do, funcionamento ou disponibilidade dos sites externos.
Ao clicar em "JOGAR AGORA", voc√™ ser√° redirecionado para plataformas parceiras.
</p>
<p style="margin-top: 10px; font-size: 12px; color: #95a5a6;">
Divirta-se com responsabilidade! üé±
</p>
</div>
</section>
<!-- NOVA SE√á√ÉO DO TRUCO (ANTES DENTRO DE JOGOS, AGORA SEPARADA) -->
<section id="section-truco-game" style="display:none;">
<div class="truco-header">
<h2 style="color: white; margin-left: 10px;">üÉè TRUCO ONLINE</h2>
<button class="btn-voltar-jogos" onclick="voltarAosJogos()">‚Üê VOLTAR AOS JOGOS</button>
</div>
<div class="truco-tabs">
<button class="truco-tab active" onclick="mostrarTrucoTab('matchmaking')">üéÆ JOGAR</button>
<button class="truco-tab" onclick="mostrarTrucoTab('historico')">üìú HIST√ìRICO</button>
<button class="truco-tab" onclick="mostrarTrucoTab('regras')">üìñ REGRAS</button>
</div>
<!-- Matchmaking -->
<div id="truco-matchmaking" style="display: block;">
<div class="matchmaking-container">
<h2 style="color: #f1c40f; margin-bottom: 20px;">PROCURAR PARTIDA</h2>
<div id="matchmaking-status" class="matchmaking-status">
üëã Clique em "PROCURAR" para entrar na fila
</div>
<div id="matchmaking-spinner" class="loading-spinner" style="display: none;"></div>
<div>
<button class="btn-matchmaking" id="btn-procurar-partida" onclick="entrarFilaMatchmaking()">
üîç PROCURAR PARTIDA
</button>
<button class="btn-matchmaking cancelar" id="btn-cancelar-partida" onclick="sairFilaMatchmaking()" style="display: none;">
‚ùå CANCELAR
</button>
</div>
<div class="sala-privada">
<h3 style="color: #f1c40f;">SALA PRIVADA</h3>
<p style="color: #bdc3c7; margin-bottom: 10px;">Crie uma sala e compartilhe o c√≥digo</p>
<div>
<button class="btn-matchmaking" onclick="abrirModalSalaPrivada('criar')" style="padding: 10px 20px; font-size: 14px;">‚ûï CRIAR SALA</button>
<button class="btn-matchmaking" onclick="abrirModalSalaPrivada('entrar')" style="padding: 10px 20px; font-size: 14px;">üö™ ENTRAR</button>
</div>
</div>
</div>
</div>
<!-- Jogo (inicialmente oculto) -->
<div id="truco-jogo" style="display: none;">
<div id="jogo-container"></div>
</div>
<!-- Hist√≥rico (inicialmente oculto) -->
<div id="truco-historico" style="display: none;">
<h3 style="color: #27ae60; margin-bottom: 20px;">üìú HIST√ìRICO DE PARTIDAS</h3>
<div id="historico-partidas-container" class="historico-partidas">
<!-- Ser√° preenchido via JavaScript -->
</div>
</div>
<!-- Regras (inicialmente oculto) -->
<div id="truco-regras" style="display: none;">
<div style="background: #f8f9fa; border-radius: 15px; padding: 20px; color: #2c3e50;">
<h3 style="color: #27ae60;">üÉè Regras do Truco</h3>
<p>Cada jogador recebe 3 cartas. A "vira" define a manilha (carta mais forte da rodada). Ganha a rodada quem jogar a carta mais forte. Primeiro a vencer 2 rodadas ganha a m√£o. Vale 1 ponto, podendo ser aumentado com truco (3, 6, 9, 12).</p>
<p style="margin-top: 10px;">Na LSJO, as partidas s√£o em tempo real e o ranking √© atualizado automaticamente.</p>
</div>
</div>
</section>
<!-- NOVA SE√á√ÉO: CENTRAL DE TORNEIOS -->
<section id="section-torneios" style="display:none;">
<div class="section-title" style="background: linear-gradient(135deg, #f1c40f, #f39c12);">
üèÜ TORNEIOS REL√ÇMPAGO LSJO
</div>
<div class="torneios-grid" id="torneios-grid">
<!-- Cards de torneios ser√£o inseridos via JavaScript -->
</div>
<div id="torneios-vazio" style="text-align: center; padding: 40px; color: #666; display: none;">
üèÜ Nenhum torneio dispon√≠vel no momento
</div>
</section>
<!-- NOVA SE√á√ÉO: P√ÅGINA INDIVIDUAL DO TORNEIO -->
<section id="section-torneio-view" style="display:none;">
<div class="section-title" id="torneio-view-title" style="background: linear-gradient(135deg, #f1c40f, #f39c12);">
üèÜ DETALHES DO TORNEIO
</div>
<button class="btn-voltar" onclick="showSection('torneios')">
<span class="seta">‚Üê</span> VOLTAR AOS TORNEIOS
</button>
<div id="torneio-detalhes-container">
<!-- Detalhes do torneio ser√£o inseridos via JavaScript -->
</div>
</section>
<!-- SE√á√ÉO DE REGRAS -->
<section id="section-regras" style="display:none;">
<div class="section-title" style="background: linear-gradient(135deg, #3498db, #2980b9);">
üìò GUIA DO JOGADOR - LSJO
</div>
<div class="regras-container">
<!-- Introdu√ß√£o -->
<div class="regras-secao">
<h2><span>üéØ</span> Bem-vindo √† LSJO!</h2>
<p>Este guia vai te ajudar a aproveitar tudo que a Liga Supremos de Jogos Online oferece.</p>
</div>
<!-- Cadastro -->
<div class="regras-secao">
<h2><span>üìù</span> COMO SE CADASTRAR</h2>
<ol>
<li>Clique em "CADASTRO" no menu lateral</li>
<li>Escolha um nome come√ßando com LSJO_ (ex: LSJO_Fulano)</li>
<li>Crie uma senha com m√≠nimo 6 caracteres</li>
<li>Informe sua data de nascimento (voc√™ precisa ter pelo menos 13 anos)</li>
<li>Aceite os termos de uso</li>
<li>Clique em "CRIAR MINHA CONTA"</li>
</ol>
<p class="aviso"><strong>Importante:</strong> Guarde bem o ID de 4 d√≠gitos que voc√™ receber√° - ele √© sua chave de acesso!</p>
</div>
<!-- Login -->
<div class="regras-secao">
<h2><span>üîê</span> COMO FAZER LOGIN</h2>
<ol>
<li>No painel lateral direito, digite seu ID e senha</li>
<li>Clique em "ENTRAR"</li>
<li>Pronto! Seu perfil aparecer√° na lateral</li>
</ol>
</div>
<!-- Perfil -->
<div class="regras-secao">
<h2><span>üë§</span> SEU PERFIL</h2>
<p>No seu perfil voc√™ encontra:</p>
<ul>
<li>Seu avatar (clique nele para personalizar)</li>
<li>Seu nome e ID</li>
<li>Pontua√ß√£o total</li>
<li>Status da conta</li>
</ul>
<h3>Personalizando seu avatar:</h3>
<p>Clique no avatar ou no √≠cone de l√°pis (‚úèÔ∏è) e escolha entre v√°rias op√ß√µes de √≠cones.</p>
</div>
<!-- Como Jogar -->
<div class="regras-secao">
<h2><span>üéÆ</span> COMO JOGAR</h2>
<h3>Iniciando uma partida:</h3>
<ol>
<li>Clique em "JOGOS" no menu</li>
<li>Escolha entre BOLA 8 ou BOLA 9</li>
<li>Clique em "JOGAR AGORA" para acessar a plataforma parceira</li>
</ol>
<h3>üó£Ô∏è Combinando a partida:</h3>
<p>Ao entrar na sala de jogo, use o chat dispon√≠vel na plataforma para:</p>
<ul>
<li>Informar seu ID da LSJO ao advers√°rio</li>
<li>Solicitar que o advers√°rio informe o ID dele</li>
<li>Confirmar que ambos est√£o prontos para iniciar</li>
</ul>
<div class="exemplo">
Jogador A: "Meu ID √© 1234, qual o seu?"<br>
Jogador B: "ID 5678 aqui. Vamos come√ßar!"
</div>
</div>
<!-- Print da Partida -->
<div class="regras-secao">
<h2><span>üì∏</span> PROVA DA PARTIDA (IMPORTANTE!)</h2>
<p>Para garantir a lisura do campeonato, ao final da partida, tanto o vencedor quanto o perdedor devem:</p>
<ul>
<li><strong>Tirar um PRINT DA TELA</strong> mostrando:</li>
<ul>
<li>O resultado final da partida (quem ganhou)</li>
<li>A data e hora vis√≠veis no computador (pode ser no canto inferior direito da tela)</li>
<li>Os nomes dos jogadores na sala do jogo</li>
</ul>
<li>Manter o print guardado como prova</li>
</ul>
<h3>Exemplo de print v√°lido:</h3>
<ul>
<li>Mostrar claramente o placar final</li>
<li>Incluir a barra de tarefas com o rel√≥gio do Windows vis√≠vel</li>
<li>Ou qualquer rel√≥gio do sistema que n√£o possa ser facilmente editado</li>
</ul>
</div>
<!-- Den√∫ncias -->
<div class="regras-secao">
<h2><span>‚ö†Ô∏è</span> DEN√öNCIAS E CONTESTA√á√ïES</h2>
<p>Se algo errado acontecer, caso haja alguma irregularidade (jogador que n√£o notificou, resultado errado, etc.):</p>
<ol>
<li>Acesse o bot√£o "CONTATO" no menu</li>
<li>Envie sua den√∫ncia <strong>ANEXANDO O PRINT</strong> da partida</li>
<li>Informe:</li>
<ul>
<li>Seu ID</li>
<li>ID do advers√°rio</li>
<li>Data e hora da partida</li>
<li>Explica√ß√£o do ocorrido</li>
</ul>
</ol>
<p class="aviso"><strong>‚è∞ PRAZO LIMITE:</strong> Den√∫ncias s√≥ ser√£o aceitas em at√© <strong>12 HORAS</strong> ap√≥s a partida!</p>
<p>Ap√≥s esse prazo, a notifica√ß√£o ser√° considerada v√°lida e n√£o ser√° mais poss√≠vel contestar o resultado.</p>
<h3>Por que o print √© importante?</h3>
<ul>
<li>√â a √∫nica prova aceita pela staff</li>
<li>Garante que n√£o houve fraude</li>
<li>Protege tanto o vencedor quanto o perdedor</li>
<li>A data/hora no print comprova que est√° dentro do prazo de 12 horas</li>
</ul>
</div>
<!-- Notificar Derrotas -->
<div class="regras-secao">
<h2><span>üì¢</span> COMO NOTIFICAR DERROTAS</h2>
<p>Perdeu uma partida? Siga esses passos:</p>
<ol>
<li>Clique em "NOTIFICAR" no menu OU no √≠cone do patinho ü¶Ü no seu perfil</li>
<li>Selecione a liga do jogo</li>
<li>Digite o ID do vencedor</li>
<li>Escolha a quantidade de derrotas (1 a 7)</li>
<li>Clique em "CONFIRMAR DERROTA"</li>
</ol>
<h3>O que acontece:</h3>
<ul>
<li>Voc√™ perde 2 pontos por derrota NA LIGA ESCOLHIDA</li>
<li>O vencedor ganha 2 pontos NA LIGA ESCOLHIDA</li>
<li>O ranking espec√≠fico √© atualizado na hora</li>
<li>Um som de pato confirma a notifica√ß√£o</li>
</ul>
<p class="aviso"><strong>Limite:</strong> M√°ximo de 7 derrotas para o mesmo oponente a cada 12 horas.</p>
</div>
<!-- Ligas e Rankings -->
<div class="regras-secao">
<h2><span>üèÜ</span> LIGAS E RANKINGS</h2>
<h3>Para participar de uma liga:</h3>
<ol>
<li>No seu perfil, clique em "INSCREVER NA LIGA"</li>
<li>Escolha a liga desejada (Bola 8, Bola 9 ou Truco)</li>
</ol>
<h3>Acessando rankings:</h3>
<ol>
<li>Clique em "RANKINGS" no menu</li>
<li>Escolha a liga que quer consultar</li>
<li>Use as abas para ver rankings por:</li>
<ul>
<li>‚≠ê PONTOS - Classifica√ß√£o geral da liga</li>
<li>üî• STREAK - Sequ√™ncia de vit√≥rias na liga</li>
<li>üìä APROVEITAMENTO - Percentual de vit√≥rias na liga</li>
</ul>
</ol>
<h3>Navega√ß√£o:</h3>
<ul>
<li>Use os bot√µes "ANTERIOR" e "PR√ìXIMA" para ver mais jogadores</li>
<li>No celular, os rankings aparecem em cards</li>
<li>No computador, em tabelas completas</li>
</ul>
<h3>Clique nos jogadores:</h3>
<p>Veja estat√≠sticas detalhadas clicando no nome de qualquer jogador!</p>
</div>
<!-- Status da Conta -->
<div class="regras-secao">
<h2><span>‚ö†Ô∏è</span> STATUS DA CONTA</h2>
<p><strong class="sucesso">Ativo üü¢</strong> - Tudo normal, voc√™ pode jogar e notificar normalmente.</p>
<p><strong class="aviso">Suspenso ‚è≥</strong> - Voc√™ ainda pode fazer login, mas n√£o pode notificar derrotas (patinho desabilitado). Motivo e dura√ß√£o aparecem no seu perfil com contador regressivo.</p>
<p><strong class="erro">Banido üö´</strong> - Conta bloqueada permanentemente. N√£o √© poss√≠vel fazer login.</p>
</div>
<!-- D√∫vidas Comuns -->
<div class="regras-secao">
<h2><span>‚ùì</span> D√öVIDAS COMUNS</h2>
<p><strong>Esqueci meu ID. E agora?</strong> Infelizmente n√£o h√° recupera√ß√£o autom√°tica. Guarde seu ID em um local seguro!</p>
<p><strong>Posso mudar meu nome de usu√°rio?</strong> N√£o, o nome √© definido no cadastro. Para alterar, seria necess√°rio criar nova conta.</p>
<p><strong>Por que n√£o consigo notificar?</strong> Verifique se: voc√™ est√° logado, n√£o est√° suspenso, n√£o excedeu o limite de 7 derrotas para aquele oponente.</p>
<p><strong>Perdi a partida mas esqueci de printar. E agora?</strong> Sem o print, n√£o ser√° poss√≠vel contestar qualquer irregularidade ap√≥s as 12 horas. SEMPRE tire o print ao final da partida!</p>
<p><strong>Meu oponente n√£o notificou minha vit√≥ria. O que fa√ßo?</strong> Envie uma den√∫ncia pelo CONTATO dentro de 12 horas, anexando o print da partida com data/hora vis√≠vel.</p>
<p><strong>O print precisa mostrar o rel√≥gio do Windows?</strong> Sim, ou qualquer rel√≥gio do sistema que mostre data e hora atuais. Isso comprova que a partida aconteceu naquele momento.</p>
<p><strong>Posso editar o print?</strong> N√£o. Prints editados ser√£o desconsiderados e podem resultar em banimento.</p>
</div>
<!-- Acesso por Celular -->
<div class="regras-secao">
<h2><span>üì±</span> ACESSO POR CELULAR</h2>
<p>No celular, o site se adapta:</p>
<ul>
<li>Menu vira bot√µes lado a lado</li>
<li>Ranking vira cards para facilitar a leitura</li>
<li>Tudo pensado para toque na tela</li>
</ul>
<p><strong>Para prints no celular:</strong> Certifique-se de que a barra de status do celular (com hora) apare√ßa na imagem!</p>
</div>
<!-- Regras B√°sicas -->
<div class="regras-secao">
<h2><span>üìú</span> REGRAS B√ÅSICAS</h2>
<h3>‚úÖ Fa√ßa:</h3>
<ul>
<li>Jogue limpo</li>
<li>Informe seu ID no chat antes de come√ßar</li>
<li>Tire PRINT do resultado com DATA/HORA vis√≠vel</li>
<li>Notifique apenas resultados reais</li>
<li>Respeite os outros jogadores</li>
<li>Personalize seu avatar</li>
</ul>
<h3>‚ùå N√£o fa√ßa:</h3>
<ul>
<li>Notifica√ß√µes falsas (resultados inventados)</li>
<li>Ofensas ou ass√©dio</li>
<li>Criar m√∫ltiplas contas</li>
<li>Compartilhar sua senha</li>
<li>Editar prints ou criar provas falsas</li>
</ul>
<p><strong>Consequ√™ncias:</strong> Suspens√µes tempor√°rias para infra√ß√µes leves e banimento permanente para casos graves.</p>
</div>
<!-- Ajuda -->
<div class="regras-secao">
<h2><span>üÜò</span> PRECISA DE AJUDA?</h2>
<p>Use o bot√£o "CONTATO" no menu para falar com a administra√ß√£o.</p>
<p class="aviso">Lembre-se: Sempre anexe o PRINT da partida com DATA/HORA vis√≠vel e fa√ßa a den√∫ncia dentro do prazo de 12 horas!</p>
</div>
<!-- Rodap√© -->
<div class="regras-secao" style="text-align: center;">
<p>LSJO - Liga Supremos de Jogos Online</p>
<p><strong>Divirta-se e boa sorte nos rankings! üé±üèÜ</strong></p>
</div>
</div>
</section>
<section id="section-notificar" style="display:none;">
<div class="section-title" style="background: #e67e22;">üì¢ NOTIFICAR DERROTA</div>
<div style="background: #f8f9fa; border: 2px solid #e67e22; border-radius: 15px; padding: 20px;">
<div class="form-group">
<label>Liga do Jogo:</label>
<select id="notif-liga">
<option value="BOLA 8">üé± BOLA 8</option>
<option value="BOLA 9">‚ö™ BOLA 9</option>
<option value="TRUCO">üÉè TRUCO</option>
</select>
</div>
<div class="form-group">
<label>ID do Vencedor:</label>
<input type="text" id="notif-venc" placeholder="Ex: 1001">
</div>
<div class="form-group">
<label>Qtd Derrotas:</label>
<select id="notif-qtd">
<option value="1">1</option>
<option value="2">2</option>
<option value="3">3</option>
<option value="4">4</option>
<option value="5">5</option>
<option value="6">6</option>
<option value="7">7</option>
</select>
</div>
<button class="btn-submit" id="btn-enviar-notif" style="background: #e67e22;">CONFIRMAR DERROTA ü¶Ü</button>
</div>
</section>
<section id="section-master" style="display:none;">
<div class="section-title" style="background: #000; border: 1px solid #f1c40f; color: #f1c40f;">üëë SISTEMA DEUS - CONTROLE MASTER</div>
<!-- Abas do Master -->
<div class="master-tabs">
<button class="master-tab active" onclick="mudarMasterTab('usuarios')">üë• USU√ÅRIOS</button>
<button class="master-tab" onclick="mudarMasterTab('staff')">üõ°Ô∏è GERENCIAR STAFF</button>
<button class="master-tab" onclick="mudarMasterTab('notificacoes')">üì¢ NOTIFICA√á√ïES (30min)</button>
<button class="master-tab" onclick="mudarMasterTab('logs')">üìã LOGS EXCLUS√ïES</button>
<button class="master-tab" onclick="mudarMasterTab('premiacoes')">üèÜ PREMIA√á√ïES MENSAL</button>
<!-- ABA DE TORNEIOS ADICIONADA -->
<button class="master-tab-torneios" onclick="mudarMasterTab('torneios')">üèÜ TORNEIOS</button>
</div>
<!-- Painel de Usu√°rios -->
<div id="master-usuarios" class="master-panel">
<div class="search-box">
<input type="text" id="search-user" placeholder="Buscar por ID ou Nick..." onkeyup="filtrarUsuarios()">
<button>üîç</button>
</div>
<div style="overflow-x: auto;">
<table class="master-table" id="tabela-usuarios">
<thead>
<tr>
<th>ID</th>
<th>AVATAR</th>
<th>NICK</th>
<th>PONTOS</th>
<th>STATUS</th>
<th>A√á√ïES</th>
</tr>
</thead>
<tbody id="lista-usuarios-master">
<!-- Ser√° preenchido via JS -->
</tbody>
</table>
</div>
</div>
<!-- Painel de Staff -->
<div id="master-staff" class="master-panel" style="display: none;">
<h3 style="color: #f1c40f; margin-bottom: 20px;">üõ°Ô∏è GERENCIAR STAFF</h3>
<!-- √ÅREA PARA ADICIONAR STAFF -->
<div style="background: #2c3e50; border-radius: 15px; padding: 20px; margin-bottom: 25px;">
<h4 style="color: white; margin-bottom: 15px;">ADICIONAR NOVO STAFF</h4>
<div style="display: flex; gap: 10px; flex-wrap: wrap;">
<input type="text" id="staff-id-input" placeholder="Digite o ID do jogador (ex: 1234)"
style="flex: 2; min-width: 200px; padding: 12px; border-radius: 8px; border: 2px solid #f1c40f; background: #34495e; color: white; font-size: 14px;">
<button id="btn-add-staff" onclick="adicionarStaff()"
style="flex: 1; min-width: 120px; background: #27ae60; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 14px; padding: 12px; transition: 0.3s;">
‚ûï ADICIONAR STAFF
</button>
</div>
<div id="staff-mensagem" style="margin-top: 10px; font-size: 12px; min-height: 20px;"></div>
</div>
<!-- LISTA DE STAFF ATUAIS -->
<div style="background: #2c3e50; border-radius: 15px; padding: 20px;">
<h4 style="color: white; margin-bottom: 15px;">LISTA DE STAFF ATUAIS</h4>
<div style="overflow-x: auto;">
<table class="master-table" style="width: 100%;">
<thead>
<tr>
<th>AVATAR</th>
<th>ID</th>
<th>NICKNAME</th>
<th>CARGO</th>
<th>A√á√ÉO</th>
</tr>
</thead>
<tbody id="lista-staff-tbody">
<!-- Ser√° preenchido via JavaScript -->
</tbody>
</table>
</div>
<div id="staff-vazio" style="text-align: center; padding: 30px; color: #95a5a6; display: none;">
üì≠ Nenhum staff cadastrado ainda
</div>
</div>
</div>
<!-- Painel de Notifica√ß√µes (√∫ltimos 30min) -->
<div id="master-notificacoes" class="master-panel" style="display: none;">
<h3 style="color: #f1c40f; margin-bottom: 15px;">üìã √öLTIMAS NOTIFICA√á√ïES (30 MINUTOS)</h3>
<div id="lista-notificacoes" style="max-height: 500px; overflow-y: auto;">
<!-- Ser√° preenchido via JS -->
</div>
</div>
<!-- NOVO PAINEL DE LOGS -->
<div id="master-logs" class="master-panel" style="display: none;">
<h3 style="color: #f1c40f; margin-bottom: 15px;">üìã REGISTRO DE EXCLUS√ïES</h3>
<div id="lista-logs" style="max-height: 500px; overflow-y: auto;">
<!-- Ser√° preenchido via JS -->
</div>
</div>
<!-- NOVO PAINEL DE PREMIA√á√ïES MENSAL -->
<div id="master-premiacoes" class="master-panel" style="display: none;">
    <h3 style="color: #f1c40f; margin-bottom: 20px;">üèÜ FECHAR M√äS E PREMIAR</h3>
    <p style="margin-bottom: 15px; color: #bdc3c7;">Esta a√ß√£o ir√° identificar os l√≠deres de cada liga (Pontos e Streak) do m√™s atual e entregar as condecora√ß√µes permanentes. Os streaks atuais N√ÉO ser√£o zerados.</p>
    <button class="btn-submit" onclick="fecharMesEPremiar()" style="background: #f1c40f; color: #000; width: 100%;">üèÜ ENCERRAR M√äS E ENTREGAR PR√äMIOS</button>
    <div id="msg-premiacao" style="margin-top: 15px; font-weight: bold;"></div>
</div>

<!-- NOVO PAINEL DE TORNEIOS -->
<div id="master-torneios" class="master-panel" style="display: none;">
<h3 style="color: #f1c40f; margin-bottom: 20px;">üèÜ GERENCIAR TORNEIOS</h3>
<!-- Formul√°rio para criar torneio -->
<div style="background: #2c3e50; border-radius: 15px; padding: 20px; margin-bottom: 25px;">
<h4 style="color: white; margin-bottom: 15px;">CRIAR NOVO TORNEIO</h4>
<div class="form-group">
<label>Nome do Torneio:</label>
<input type="text" id="torneio-nome" placeholder="Ex: Truco Rel√¢mpago #1">
</div>
<div class="form-group">
<label>Liga:</label>
<select id="torneio-liga">
<option value="BOLA 8">üé± BOLA 8</option>
<option value="BOLA 9">‚ö™ BOLA 9</option>
<option value="TRUCO">üÉè TRUCO</option>
</select>
</div>
<div class="form-group">
<label>Descri√ß√£o:</label>
<input type="text" id="torneio-descricao" placeholder="Descri√ß√£o do torneio">
</div>
<div class="form-group">
<label>M√°x Participantes:</label>
<input type="number" id="torneio-max" value="8" min="4" max="32">
</div>
<div class="form-group">
<label>Pontos Extras Campe√£o:</label>
<input type="number" id="torneio-pontos" value="50" min="0">
</div>
<button class="btn-submit" onclick="criarTorneio()" style="background: #27ae60; width: 100%;">üèÜ CRIAR TORNEIO</button>
</div>
<!-- Lista de torneios existentes -->
<div style="background: #2c3e50; border-radius: 15px; padding: 20px;">
<h4 style="color: white; margin-bottom: 15px;">TORNEIOS EXISTENTES</h4>
<div style="overflow-x: auto;">
<table class="master-table" style="width: 100%;">
<thead>
<tr>
<th>NOME</th>
<th>LIGA</th>
<th>STATUS</th>
<th>PARTICIPANTES</th>
<th>A√á√ïES</th>
</tr>
</thead>
<tbody id="lista-torneios-master">
<!-- Ser√° preenchido via JavaScript -->
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="section-rankings-hub" style="display:none;">
<div class="section-title" style="background: #34495e;">üèÜ SELECIONE O JOGO</div>
<div class="ranking-options">
<div class="rank-card" onclick="abrirRanking('BOLA 8')">
<div class="rank-icon">üé±</div>
<h3>Bola 8</h3>
</div>
<div class="rank-card" onclick="abrirRanking('BOLA 9')">
<div class="rank-icon" style="background: radial-gradient(circle at 30% 30%, #f1c40f, #f39c12); color: #000;">9</div>
<h3>Bola 9</h3>
</div>
<div class="rank-card" onclick="abrirRanking('TRUCO')">
<div class="rank-icon">üÉè</div>
<h3>Truco</h3>
</div>
</div>
</section>
<section id="section-ranking-view" style="display:none;">
<div class="section-title" id="ranking-view-title" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
üèÜ RANKING BOLA 8
</div>
<div class="tab-container">
<button class="tab-button active" onclick="mudarAbaRanking('PONTOS', this)">
<span class="tab-icon">‚≠ê</span> PONTOS
</button>
<button class="tab-button" onclick="mudarAbaRanking('SEQU√äNCIA', this)">
<span class="tab-icon">üî•</span> STREAK
</button>
<button class="tab-button" onclick="mudarAbaRanking('APROVEITAMENTO', this)">
<span class="tab-icon">üìä</span> APROVEITAMENTO
</button>
</div>
<button class="btn-voltar" onclick="showSection('rankings-hub')">
<span class="seta">‚Üê</span> VOLTAR AOS JOGOS
</button>
<!-- Ranking Cards (Mobile) -->
<div class="ranking-cards-container" id="ranking-cards">
<!-- Cards ser√£o gerados via JS -->
</div>
<!-- Ranking Table (Desktop) -->
<div class="ranking-table-wrapper">
<table class="ranking-table-moderno">
<thead>
<tr>
<th>POS</th>
<th>AVATAR</th>
<th>JOGADOR</th>
<th>ID</th>
<th>PONTOS</th>
<th>V/D</th>
<th>STREAK</th>
</tr>
</thead>
<tbody id="corpo-tabela-dinamica">
<!-- Dados ser√£o inseridos via JavaScript -->
</tbody>
</table>
</div>
<!-- Mensagem de ranking vazio (ser√° mostrada via JS quando necess√°rio) -->
<div id="empty-ranking-message" class="empty-ranking-message" style="display: none;">
<div class="icon">üèÜ</div>
<h3>Nenhum jogador cadastrado ainda nesta liga</h3>
<p>Seja o primeiro a se inscrever e aparecer no ranking!</p>
<button class="btn-menu btn-blue" onclick="showSection('cadastro')" style="width: auto; padding: 10px 30px; margin: 0 auto;">FAZER CADASTRO</button>
</div>
<!-- Pagina√ß√£o -->
<div class="pagination-container" id="pagination">
<button class="pagination-btn" id="prev-page" onclick="mudarPagina('anterior')" disabled>
<span>‚Üê</span> ANTERIOR
</button>
<span class="pagination-info" id="page-info">P√°gina 1 de 1</span>
<button class="pagination-btn" id="next-page" onclick="mudarPagina('proxima')" disabled>
PR√ìXIMA <span>‚Üí</span>
</button>
</div>
<!-- Legenda -->
<div class="ranking-legenda">
<div class="legenda-item">
<span class="legenda-cor" style="background: linear-gradient(135deg, #fbbf24, #f59e0b);"></span>
<span>TOP 3 - Elit√©rio Supremo</span>
</div>
<div class="legenda-item">
<span class="legenda-cor" style="background: linear-gradient(135deg, #60a5fa, #3b82f6);"></span>
<span>TOP 10 - Mestres da Bola</span>
</div>
<div class="legenda-item">
<span class="legenda-cor" style="background: linear-gradient(135deg, #34d399, #10b981);"></span>
<span>TOP 20 - Guerreiros</span>
</div>
<div class="legenda-item">
<span class="legenda-cor" style="background: #94a3b8;"></span>
<span>Vaga Dispon√≠vel</span>
</div>
</div>
</section>
<section id="section-cadastro" style="display:none;">
<div class="section-title" style="background: #27ae60;">üìù NOVO REGISTRO</div>
<div style="max-width: 600px; margin: 0 auto;">
<div class="form-group">
<label>Nome de Usu√°rio*</label>
<div>
<input type="text" id="reg-nick" value="LSJO_" maxlength="15" oninput="validarPrefixo(this)" style="font-weight: bold; color: #2980b9;">
<span class="char-counter" id="contador">10 caracteres restantes</span>
</div>
</div>
<div class="form-group">
<label>Senha*</label>
<input type="password" id="reg-pass" placeholder="M√≠nimo 6 caracteres" minlength="6">
</div>
<div class="form-group">
<label>Confirmar Senha*</label>
<input type="password" id="reg-pass-confirm" placeholder="Digite a senha novamente">
</div>
<div class="form-group">
<label>Data de Nascimento*</label>
<div style="display: flex; gap: 5px; flex-wrap: wrap;">
<select id="dia-nasc" style="flex:1; min-width: 70px;" required>
<option value="">Dia</option>
</select>
<select id="mes-nasc" style="flex:2; min-width: 100px;" required>
<option value="">M√™s</option>
<option value="1">Janeiro</option>
<option value="2">Fevereiro</option>
<option value="3">Mar√ßo</option>
<option value="4">Abril</option>
<option value="5">Maio</option>
<option value="6">Junho</option>
<option value="7">Julho</option>
<option value="8">Agosto</option>
<option value="9">Setembro</option>
<option value="10">Outubro</option>
<option value="11">Novembro</option>
<option value="12">Dezembro</option>
</select>
<select id="ano-nasc" style="flex:1; min-width: 80px;" required>
<option value="">Ano</option>
</select>
</div>
<small style="color: #666; display: block; margin-top: 5px;">Voc√™ deve ter pelo menos 13 anos</small>
</div>
<div class="form-group">
<label>Email (opcional)</label>
<input type="email" id="reg-email" placeholder="seu@email.com">
</div>
<div class="form-group">
<label style="display: flex; align-items: center; gap: 10px;">
<input type="checkbox" id="termos" required>
<span style="font-size: 12px;">Li e aceito os <a href="#" style="color: #2980b9;">termos de uso</a></span>
</label>
</div>
<button class="btn-submit" id="btn-cadastro-firebase">CRIAR MINHA CONTA</button>
<div style="text-align: center; margin-top: 15px; font-size: 12px; color: #666;">
J√° tem uma conta? <a href="#" onclick="showSection('home'); document.getElementById('box-login').style.display='block';" style="color: #2980b9; text-decoration: none;">Fa√ßa login</a>
</div>
</div>
</section>
</main>
<aside class="sidebar-right">
<div class="right-box" id="box-login">
<div class="right-box-title">üîê ACESSO RESTRITO</div>
<div class="right-box-content">
<input type="text" class="login-input" id="login-id" placeholder="ID de Acesso">
<!-- CONTAINER DE SENHA COM OLHINHO -->
<div class="password-container">
<input type="password" class="login-input" id="login-pass" placeholder="Senha">
<span class="password-toggle" onclick="togglePassword()">üëÅÔ∏è</span>
</div>
<button class="btn-login" id="btn-login-firebase">ENTRAR</button>
</div>
</div>
<!-- PERFIL COM AVATAR EDIT√ÅVEL -->
<div class="right-box" id="box-perfil" style="display:none;">
<div class="right-box-title">ü™™ PERFIL DO SUPREMO</div>
<div class="right-box-content profile-card">
<!-- Avatar com op√ß√£o de editar -->
<div class="avatar-container">
<div class="profile-avatar" id="profile-avatar" onclick="abrirModalAvatar()">üé±</div>
<div class="edit-avatar-icon" onclick="abrirModalAvatar()">‚úèÔ∏è</div>
</div>
<span class="profile-name" id="user-name">LSJO_PLAYER</span>
<div class="profile-stats">
<div class="stat-item"><span>ID:</span> <strong id="user-id-card">0000</strong></div>
<div class="stat-item"><span>Pontos:</span> <strong id="user-pts-card">0</strong></div>
<div class="stat-item"><span id="status-label">Status:</span> <strong id="status-value" style="color:green">Ativa</strong></div>
</div>
<!-- Mensagem de suspens√£o (aparece se suspenso) -->
<div id="suspenso-mensagem" style="display: none; background: #f39c12; color: #000; padding: 8px; border-radius: 8px; margin: 10px 0; font-size: 11px; font-weight: bold;">
‚ö†Ô∏è Voc√™ est√° suspenso at√© <span id="suspenso-ate"></span>
</div>
<!-- NOVO CONTADOR REGRESSIVO NO PERFIL -->
<div id="perfil-contador-box" style="display: none;" class="contador-suspensao">
    <div class="contador-titulo">‚è≥ TEMPO RESTANTE</div>
    <div class="contador-tempo" id="perfil-contador-tempo">00:00:00</div>
    <div class="contador-legenda">Aguarde para voltar a jogar</div>
</div>

<!-- √çCONES DAS LIGAS -->
<div class="icones-perfil-container">
<!-- PATINHO (desabilitado se suspenso) -->
<div id="pato-perfil" class="icone-perfil pato" onclick="showSection('notificar')" title="Notificar Derrota">
ü¶Ü
</div>
<!-- BOLA 8 -->
<div id="icone-bola8" class="icone-perfil bola8 inativo" onclick="abrirEstatisticasLiga('BOLA 8')" title="Bola 8 (Clique para ver estat√≠sticas)">
üé±
</div>
<!-- BOLA 9 -->
<div id="icone-bola9" class="icone-perfil bola9 inativo" onclick="abrirEstatisticasLiga('BOLA 9')" title="Bola 9 (Clique para ver estat√≠sticas)">
9
</div>
<!-- TRUCO -->
<div id="icone-truco" class="icone-perfil truco inativo" onclick="abrirEstatisticasLiga('TRUCO')" title="Truco (Clique para ver estat√≠sticas)">
üÉè
</div>
</div>
<button class="btn-action btn-join" onclick="abrirModalSelecionarLiga()">INSCREVER NA LIGA</button>
<button class="btn-action btn-special">MEMBRO ESPECIAL ‚≠ê</button>
<button class="btn-action btn-logout" onclick="fazerLogout()">DESLIGAR</button>

<!-- NOVA SE√á√ÉO: CONQUISTAS & CONDECORA√á√ïES -->
<div class="conquistas-container">
    <div class="conquistas-title">üèÜ CONQUISTAS (TORNEIOS)</div>
    <div id="lista-conquistas">Nenhum torneio vencido ainda</div>
</div>
<div class="condecoracoes-container">
    <div class="condecoracoes-title">üéñÔ∏è SALA DA FAMA (MENSAL)</div>
    <div id="lista-condecoracoes">Nenhuma condecora√ß√£o ainda</div>
</div>

</div>
</div>
<div class="right-box">
<div class="right-box-title">üìä ESTAT√çSTICAS</div>
<div class="right-box-content">
<div>Sistema: Soma Zero</div>
<div>Status: <span style="color:green">‚óè Online</span></div>
<div>Total de Vagas: <strong>40 por p√°gina</strong></div>
</div>
</div>
<!-- NOVO BLOCO: √öLTIMAS NOTIFICA√á√ïES -->
<div class="right-box" id="ultimas-notificacoes">
<div class="right-box-title">üì¢ √öLTIMAS NOTIFICA√á√ïES</div>
<div class="right-box-content" id="lista-ultimas-notificacoes" style="max-height: 300px; overflow-y: auto; padding: 5px;">
<!-- Loading -->
<div style="text-align: center; padding: 15px; color: #95a5a6;" id="loading-notificacoes">
‚è≥ Carregando...
</div>
</div>
</div>
<div class="right-box">
<div class="right-box-title">üì¢ AVISOS</div>
<div class="right-box-content">
<p style="margin-bottom: 8px;">‚ö†Ô∏è Notifica√ß√µes falsas resultam em banimento.</p>
<p style="color: #f1c40f; font-weight: bold; border-top: 1px dashed #f1c40f; padding-top: 8px;">
üì¢ AP√ìS SEU CADASTRO, VOC√ä PODE VER SEU ID NO RANKING!<br>
<span style="font-size: 11px; color: #bdc3c7;">Ao criar sua conta, aguarde alguns segundos e consulte o ranking para ver seu ID e pontua√ß√£o inicial.</span>
</p>
</div>
</div>
</aside>
</div>
<footer class="footer-line">LSJO ¬© 2026 - Todos os direitos reservados</footer>
</div>
<!-- MODAL DE SELE√á√ÉO DE AVATAR -->
<div id="modal-avatar" class="modal">
<div class="modal-select-liga">
<h3>üé® ESCOLHA SEU AVATAR</h3>
<p>Selecione um avatar para seu perfil:</p>
<div class="avatares-grid">
<div class="avatar-opcao" onclick="selecionarAvatar('üé±')">üé±</div>
<div class="avatar-opcao" onclick="selecionarAvatar('9Ô∏è‚É£')">9Ô∏è‚É£</div>
<div class="avatar-opcao" onclick="selecionarAvatar('üÉè')">üÉè</div>
<div class="avatar-opcao" onclick="selecionarAvatar('üî•')">üî•</div>
<div class="avatar-opcao" onclick="selecionarAvatar('‚ö°')">‚ö°</div>
<div class="avatar-opcao" onclick="selecionarAvatar('üëë')">üëë</div>
<div class="avatar-opcao" onclick="selecionarAvatar('‚≠ê')">‚≠ê</div>
<div class="avatar-opcao" onclick="selecionarAvatar('üéØ')">üéØ</div>
<div class="avatar-opcao" onclick="selecionarAvatar('üéÆ')">üéÆ</div>
<div class="avatar-opcao" onclick="selecionarAvatar('üèÜ')">üèÜ</div>
<!-- NOVOS AVATARES -->
<div class="avatar-opcao" onclick="selecionarAvatar('üêç')">üêç</div>
<div class="avatar-opcao" onclick="selecionarAvatar('ü¶Ö')">ü¶Ö</div>
<div class="avatar-opcao" onclick="selecionarAvatar('üê∫')">üê∫</div>
<div class="avatar-opcao" onclick="selecionarAvatar('ü¶Å')">ü¶Å</div>
<div class="avatar-opcao" onclick="selecionarAvatar('üêØ')">üêØ</div>
<div class="avatar-opcao" onclick="selecionarAvatar('ü§ñ')">ü§ñ</div>
<div class="avatar-opcao" onclick="selecionarAvatar('üëΩ')">üëΩ</div>
<div class="avatar-opcao" onclick="selecionarAvatar('üíÄ')">üíÄ</div>
<div class="avatar-opcao" onclick="selecionarAvatar('üéÉ')">üéÉ</div>
<div class="avatar-opcao" onclick="selecionarAvatar('üçÄ')">üçÄ</div>
<div class="avatar-opcao" onclick="selecionarAvatar('‚öîÔ∏è')">‚öîÔ∏è</div>
<div class="avatar-opcao" onclick="selecionarAvatar('üßô‚Äç‚ôÇÔ∏è')">üßô‚Äç‚ôÇÔ∏è</div>
</div>
<div id="avatar-sucesso" style="display: none;" class="success-message">
‚úÖ Avatar atualizado com sucesso!
</div>
<button class="btn-fechar-modal" onclick="fecharModal('modal-avatar')">FECHAR</button>
</div>
</div>
<!-- MODAL DE SELE√á√ÉO DE LIGA -->
<div id="modal-select-liga" class="modal">
<div class="modal-select-liga">
<h3>üéØ ESCOLHA UMA LIGA</h3>
<p>Toque na liga que deseja participar:</p>
<div class="opcoes-liga">
<div class="opcao-liga" onclick="inscreverNaLiga('BOLA 8')">
<div class="icone-grande">üé±</div>
<div class="nome-liga">BOLA 8</div>
</div>
<div class="opcao-liga" onclick="inscreverNaLiga('BOLA 9')">
<div class="icone-grande" style="background: radial-gradient(circle at 30% 30%, #f1c40f, #f39c12); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 8px; color: #000; font-weight: 900; font-size: 32px;">9</div>
<div class="nome-liga">BOLA 9</div>
</div>
<div class="opcao-liga" onclick="inscreverNaLiga('TRUCO')">
<div class="icone-grande">üÉè</div>
<div class="nome-liga">TRUCO</div>
</div>
</div>
<div id="mensagem-sucesso" style="display: none;" class="success-message">
‚úÖ Inscri√ß√£o realizada com sucesso!
</div>
<button class="btn-fechar-modal" onclick="fecharModal('modal-select-liga')">FECHAR</button>
</div>
</div>
<!-- MODAL DE SUSPENS√ÉO -->
<div id="modal-suspender" class="modal">
<div class="modal-content">
<h3>‚è∞ SUSPENDER JOGADOR</h3>
<p id="suspend-user-info" style="color: white; margin-bottom: 15px;"></p>
<select id="tempo-suspensao">
<option value="3600000">1 hora</option>
<option value="21600000">6 horas</option>
<option value="43200000">12 horas</option>
<option value="86400000">1 dia</option>
<option value="259200000">3 dias</option>
<option value="604800000">7 dias</option>
<option value="2592000000">30 dias</option>
</select>
<div class="modal-buttons">
<button class="modal-confirm" onclick="confirmarSuspender()">SUSPENDER</button>
<button class="modal-cancel" onclick="fecharModal('modal-suspender')">CANCELAR</button>
</div>
</div>
</div>
<!-- MODAL DE STAFF -->
<div id="modal-staff" class="modal">
<div class="modal-content">
<h3>üõ°Ô∏è GERENCIAR STAFF</h3>
<p id="staff-user-info" style="color: white; margin-bottom: 15px;"></p>
<select id="staff-tipo">
<option value="staff">Tornar Staff</option>
<option value="remover">Remover Staff</option>
</select>
<div class="modal-buttons">
<button class="modal-confirm" onclick="confirmarStaff()">CONFIRMAR</button>
<button class="modal-cancel" onclick="fecharModal('modal-staff')">CANCELAR</button>
</div>
</div>
</div>
<!-- MODAL DE EDI√á√ÉO DE ID -->
<div id="modal-edit-id" class="modal">
<div class="modal-content">
<h3>‚úèÔ∏è ALTERAR ID</h3>
<input type="text" id="edit-user-id" placeholder="ID atual" readonly>
<input type="text" id="edit-new-id" placeholder="Novo ID (qualquer quantidade de d√≠gitos)" maxlength="10">
<div class="modal-buttons">
<button class="modal-confirm" onclick="confirmarAlterarId()">CONFIRMAR</button>
<button class="modal-cancel" onclick="fecharModal('modal-edit-id')">CANCELAR</button>
</div>
</div>
</div>
<!-- MODAL DE REVERTER NOTIFICA√á√ÉO -->
<div id="modal-revert-notif" class="modal">
<div class="modal-content">
<h3>‚Ü©Ô∏è REVERTER NOTIFICA√á√ÉO</h3>
<p id="revert-info" style="color: white; margin-bottom: 15px;"></p>
<div class="modal-buttons">
<button class="modal-confirm" onclick="confirmarReverter()">REVERTER</button>
<button class="modal-cancel" onclick="fecharModal('modal-revert-notif')">CANCELAR</button>
</div>
</div>
</div>
<!-- MODAL DE EXCLUS√ÉO DE CONTA -->
<div id="modal-excluir-conta" class="modal">
<div class="modal-content" style="max-width: 350px; text-align: center;">
<h3 style="color: #c0392b; margin-bottom: 20px;">‚ö†Ô∏è ATEN√á√ÉO! ‚ö†Ô∏è</h3>
<div style="font-size: 48px; margin-bottom: 15px;">üóëÔ∏è</div>
<p id="excluir-user-info" style="color: white; margin-bottom: 20px; font-size: 14px;">
Deseja excluir permanentemente a conta?
</p>
<div style="background: #c0392b; color: white; padding: 10px; border-radius: 8px; margin-bottom: 20px; font-size: 12px;">
‚ö†Ô∏è Esta a√ß√£o √© IRREVERS√çVEL!<br>
Todos os dados do jogador ser√£o perdidos.
</div>
<div class="modal-buttons">
<button class="modal-confirm" onclick="confirmarExcluirConta()" style="background: #c0392b;">üóëÔ∏è SIM, EXCLUIR</button>
<button class="modal-cancel" onclick="fecharModal('modal-excluir-conta')">CANCELAR</button>
</div>
</div>
</div>
<!-- ===== NOVO MODAL DE PERFIL DO JOGADOR COM CONTADOR REGRESSIVO ===== -->
<div id="modal-perfil-jogador" class="estatisticas-modal">
<div class="modal-content-estatisticas" style="max-width: 450px;">
<span class="modal-close" onclick="fecharModalPerfil()">&times;</span>
<!-- Header com avatar e nome -->
<div class="modal-header" style="text-align: center; border-bottom: 2px solid #f1c40f; padding-bottom: 15px; margin-bottom: 15px;">
<div style="font-size: 64px; margin-bottom: 10px;" id="perfil-avatar">üé±</div>
<h2 style="color: #f1c40f; margin: 5px 0;" id="perfil-nome">LSJO_PLAYER</h2>
<div style="display: flex; justify-content: center; gap: 15px; font-size: 14px; color: #bdc3c7;">
<span>ID: <strong id="perfil-id">0000</strong></span>
<span id="perfil-status-badge" style="background: #27ae60; padding: 3px 10px; border-radius: 20px; color: white;">‚úÖ ATIVO</span>
</div>
</div>
<!-- ===== NOVO CONTADOR REGRESSIVO (aparece apenas se suspenso) ===== -->
<div id="perfil-contador-container" style="display: none;" class="contador-suspensao">
<div class="contador-titulo">‚è≥ TEMPO RESTANTE DE SUSPENS√ÉO</div>
<div class="contador-tempo" id="perfil-contador">00:00:00</div>
<div class="contador-legenda" id="perfil-contador-legenda">Aguarde o t√©rmino para voltar a jogar</div>
<div class="contador-data" id="perfil-contador-data">Termina em: --/--/---- --:--</div>
</div>
<!-- Rankings -->
<div style="display: flex; justify-content: space-between; gap: 10px; margin-bottom: 20px;">
<div class="ranking-posicao" style="flex: 1; background: rgba(241,196,15,0.1); padding: 10px; border-radius: 10px; text-align: center;">
<span class="posicao-label" style="font-size: 11px;">RANKING GERAL</span>
<span class="posicao-numero" style="font-size: 24px; display: block;" id="perfil-posicao">#0</span>
</div>
<div class="ranking-posicao" style="flex: 1; background: rgba(52,152,219,0.1); padding: 10px; border-radius: 10px; text-align: center;">
<span class="posicao-label" style="font-size: 11px;">APROVEITAMENTO</span>
<span class="posicao-numero" style="font-size: 24px; display: block;" id="perfil-posicao-aproveitamento">#0</span>
</div>
</div>
<!-- Grid de Estat√≠sticas -->
<div class="estatisticas-grid" style="grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 20px;">
<div class="estatistica-card" style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; text-align: center;">
<div class="rotulo" style="font-size: 11px; color: #bdc3c7;">PONTOS</div>
<div class="valor" style="font-size: 28px; font-weight: bold; color: #f1c40f;" id="perfil-pontos">0</div>
</div>
<div class="estatistica-card" style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; text-align: center;">
<div class="rotulo" style="font-size: 11px; color: #bdc3c7;">V/D</div>
<div class="valor" style="font-size: 28px; font-weight: bold; color: #f1c40f;" id="perfil-vd">0/0</div>
</div>
<div class="estatistica-card" style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; text-align: center;">
<div class="rotulo" style="font-size: 11px; color: #bdc3c7;">STREAK</div>
<div class="valor streak-info" style="font-size: 28px; font-weight: bold; color: #f1c40f; display: flex; align-items: center; justify-content: center; gap: 5px;">
<span class="fire">üî•</span>
<span id="perfil-streak">0</span>
</div>
</div>
<div class="estatistica-card" style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; text-align: center;">
<div class="rotulo" style="font-size: 11px; color: #bdc3c7;">APROVEIT.</div>
<div class="valor" style="font-size: 28px; font-weight: bold; color: #f1c40f;" id="perfil-aproveitamento">0%</div>
</div>
</div>
<!-- Informa√ß√µes extras -->
<div style="background: rgba(0,0,0,0.2); border-radius: 10px; padding: 10px; margin-bottom: 20px; font-size: 12px; color: #bdc3c7; display: flex; justify-content: space-around;">
<span>üìÖ Cadastro: <span id="perfil-data-cadastro">--/--/----</span></span>
<span>üéÆ Partidas: <span id="perfil-total-partidas">0</span></span>
</div>
<!-- Bot√£o Fechar -->
<button class="btn-fechar-modal" onclick="fecharModalPerfil()" style="margin: 0 auto;">FECHAR</button>
</div>
</div>
<!-- MODAIS DE ESTAT√çSTICAS DAS LIGAS -->
<!-- Modal Estat√≠sticas Bola 8 -->
<div id="modal-bola8" class="estatisticas-modal">
<div class="modal-content-estatisticas">
<span class="modal-close" onclick="fecharModalEstatisticas('modal-bola8')">&times;</span>
<div class="modal-header">
<div style="font-size: 48px;">üé±</div>
<h2>BOLA 8</h2>
</div>
<div class="ranking-posicao">
<span class="posicao-label">Ranking Geral:</span>
<span class="posicao-numero" id="bola8-posicao">#0</span>
</div>
<div class="estatisticas-grid">
<div class="estatistica-card">
<div class="rotulo">PONTOS</div>
<div class="valor" id="bola8-pontos">0</div>
</div>
<div class="estatistica-card">
<div class="rotulo">V/D</div>
<div class="valor" id="bola8-vd">0/0</div>
</div>
<div class="estatistica-card">
<div class="rotulo">STREAK</div>
<div class="valor streak-info">
<span class="fire">üî•</span>
<span id="bola8-streak">0</span>
</div>
</div>
<div class="estatistica-card">
<div class="rotulo">APROVEIT.</div>
<div class="valor" id="bola8-aproveitamento">0%</div>
</div>
</div>
<div class="ranking-posicao" style="background: rgba(241,196,15,0.1);">
<span class="posicao-label">Ranking Aproveitamento:</span>
<span class="posicao-numero" id="bola8-posicao-aproveitamento">#0</span>
</div>
<button class="btn-fechar-modal" onclick="fecharModalEstatisticas('modal-bola8')">FECHAR</button>
</div>
</div>
<!-- Modal Estat√≠sticas Bola 9 -->
<div id="modal-bola9" class="estatisticas-modal">
<div class="modal-content-estatisticas">
<span class="modal-close" onclick="fecharModalEstatisticas('modal-bola9')">&times;</span>
<div class="modal-header">
<div style="font-size: 48px; background: radial-gradient(circle at 30% 30%, #f1c40f, #f39c12); width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto; color: #000; font-weight: 900;">9</div>
<h2>BOLA 9</h2>
</div>
<div class="ranking-posicao">
<span class="posicao-label">Ranking Geral:</span>
<span class="posicao-numero" id="bola9-posicao">#0</span>
</div>
<div class="estatisticas-grid">
<div class="estatistica-card">
<div class="rotulo">PONTOS</div>
<div class="valor" id="bola9-pontos">0</div>
</div>
<div class="estatistica-card">
<div class="rotulo">V/D</div>
<div class="valor" id="bola9-vd">0/0</div>
</div>
<div class="estatistica-card">
<div class="rotulo">STREAK</div>
<div class="valor streak-info">
<span class="fire">üî•</span>
<span id="bola9-streak">0</span>
</div>
</div>
<div class="estatistica-card">
<div class="rotulo">APROVEIT.</div>
<div class="valor" id="bola9-aproveitamento">0%</div>
</div>
</div>
<div class="ranking-posicao" style="background: rgba(241,196,15,0.1);">
<span class="posicao-label">Ranking Aproveitamento:</span>
<span class="posicao-numero" id="bola9-posicao-aproveitamento">#0</span>
</div>
<button class="btn-fechar-modal" onclick="fecharModalEstatisticas('modal-bola9')">FECHAR</button>
</div>
</div>
<!-- Modal Estat√≠sticas Truco -->
<div id="modal-truco" class="estatisticas-modal">
<div class="modal-content-estatisticas">
<span class="modal-close" onclick="fecharModalEstatisticas('modal-truco')">&times;</span>
<div class="modal-header">
<div style="font-size: 48px;">üÉè</div>
<h2>TRUCO</h2>
</div>
<div class="ranking-posicao">
<span class="posicao-label">Ranking Geral:</span>
<span class="posicao-numero" id="truco-posicao">#0</span>
</div>
<div class="estatisticas-grid">
<div class="estatistica-card">
<div class="rotulo">PONTOS</div>
<div class="valor" id="truco-pontos">0</div>
</div>
<div class="estatistica-card">
<div class="rotulo">V/D</div>
<div class="valor" id="truco-vd">0/0</div>
</div>
<div class="estatistica-card">
<div class="rotulo">STREAK</div>
<div class="valor streak-info">
<span class="fire">üî•</span>
<span id="truco-streak">0</span>
</div>
</div>
<div class="estatistica-card">
<div class="rotulo">APROVEIT.</div>
<div class="valor" id="truco-aproveitamento">0%</div>
</div>
</div>
<div class="ranking-posicao" style="background: rgba(241,196,15,0.1);">
<span class="posicao-label">Ranking Aproveitamento:</span>
<span class="posicao-numero" id="truco-posicao-aproveitamento">#0</span>
</div>
<button class="btn-fechar-modal" onclick="fecharModalEstatisticas('modal-truco')">FECHAR</button>
</div>
</div>
<!-- ===== NOVO MODAL PARA SALA PRIVADA DO TRUCO ===== -->
<div id="modal-sala-privada" class="modal">
<div class="modal-select-liga">
<h3> SALA PRIVADA - TRUCO</h3>
<p id="modal-sala-privada-titulo">Digite o c√≥digo da sala</p>
<input type="text" id="codigo-sala-privada" placeholder="C√≥digo (ex: TRUCO123)" maxlength="10" style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid #f1c40f; background: #34495e; color: white; font-size: 16px; text-align: center; margin: 15px 0;">
<div id="mensagem-sala-privada" style="margin: 10px 0; font-size: 12px; min-height: 20px;"></div>
<div class="modal-buttons">
<button class="modal-confirm" id="btn-confirmar-sala-privada" onclick="confirmarAcaoSalaPrivada()">CONFIRMAR</button>
<button class="modal-cancel" onclick="fecharModal('modal-sala-privada')">CANCELAR</button>
</div>
</div>
</div>
<!-- NOVOS MODAIS PARA REVERS√ÉO (STAFF) -->
<div id="modal-reverter-banimento" class="modal">
<div class="modal-content">
<h3 style="color: #9b59b6;">üö´ REVERTER BANIMENTO</h3>
<p id="reverter-ban-info" style="color: white; margin-bottom: 15px;"></p>
<p style="color: #bdc3c7; font-size: 12px; margin-bottom: 15px;">Esta a√ß√£o reativar√° a conta do jogador.</p>
<div class="modal-buttons">
<button class="modal-confirm" onclick="confirmarReverterBanimento()" style="background: #9b59b6;">SIM, REVERTER</button>
<button class="modal-cancel" onclick="fecharModal('modal-reverter-banimento')">CANCELAR</button>
</div>
</div>
</div>
<div id="modal-reverter-suspensao" class="modal">
<div class="modal-content">
<h3 style="color: #e67e22;">‚è∞ REVERTER SUSPENS√ÉO</h3>
<p id="reverter-suspend-info" style="color: white; margin-bottom: 15px;"></p>
<p style="color: #bdc3c7; font-size: 12px; margin-bottom: 15px;">A suspens√£o ser√° removida imediatamente.</p>
<div class="modal-buttons">
<button class="modal-confirm" onclick="confirmarReverterSuspensao()" style="background: #e67e22;">SIM, REVERTER</button>
<button class="modal-cancel" onclick="fecharModal('modal-reverter-suspensao')">CANCELAR</button>
</div>
</div>
</div>
<!-- NOVO MODAL: CONFIRMA√á√ÉO DE DERROTA NO TORNEIO -->
<div id="modal-derrota-torneio" class="modal">
    <div class="modal-content">
        <h3 style="color: #e67e22;">‚ö†Ô∏è REPORTAR DERROTA</h3>
        <p id="derrota-torneio-info" style="color: white; margin-bottom: 15px;"></p>
        <p style="color: #bdc3c7; font-size: 12px; margin-bottom: 15px;">Essa a√ß√£o n√£o pode ser desfeita. O advers√°rio avan√ßar√° na chave.</p>
        <div class="modal-buttons">
            <button class="modal-confirm" onclick="confirmarDerrotaTorneio()" style="background: #e67e22;">SIM, REPORTAR DERROTA</button>
            <button class="modal-cancel" onclick="fecharModal('modal-derrota-torneio')">CANCELAR</button>
        </div>
    </div>
</div>

<audio id="duckSound" src="https://www.soundjay.com/nature/sounds/duck-quack-1.mp3"></audio>
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
import { getDatabase, ref, set, get, child, onValue, update, remove, push, onChildAdded, off } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";
// CONFIGURA√á√ÉO COM REGI√ÉO EUROPE-WEST1
const firebaseConfig = {
apiKey: "AIzaSyDez172nRfLpCffiEKRRtxMsVR0LL12sbE",
authDomain: "lsjo-a5672.firebaseapp.com",
projectId: "lsjo-a5672",
databaseURL: "https://lsjo-a5672-default-rtdb.europe-west1.firebasedatabase.app/",
appId: "1:251677846751:web:6eb9ebf1c1f6159b9a8d6a"
};
const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
let usuarioLogado = null;
let usuarioLogadoTipo = 'usuario';
// Vari√°veis de pagina√ß√£o
let paginaAtual = 1;
const ITENS_POR_PAGINA = 40;
let totalJogadores = 0;
let todosJogadores = [];
let rankingTipoAtual = 'BOLA 8';
let tipoOrdenacaoAtual = 'PONTOS';
// Vari√°veis para os modais
let usuarioSelecionado = null;
let notificacaoSelecionada = null;
let contaParaExcluir = null;
let contadorInterval = null;
let contadorPerfilInterval = null;
// Vari√°veis para seguran√ßa do master
let tentativasMaster = 0;
let ultimaTentativaMaster = 0;
// ===== NOVAS VARI√ÅVEIS DO TRUCO =====
let partidaAtual = null;
let matchmakingAtivo = false;
let filaRef = null;
let partidaListener = null;
// Vari√°veis para modal de sala privada
let acaoSalaPrivada = null; // 'criar' ou 'entrar'
// Constantes do Truco
const VALORES_TRUCO = [4, 5, 6, 7, 'Q', 'J', 'K', 'A', 2, 3];
const NAIPES = ['ouros', 'espadas', 'copas', 'paus'];
const FORCA_NAIPES = { 'paus': 3, 'copas': 2, 'espadas': 1, 'ouros': 0 };
const SIMBOLOS = { 'ouros': '‚ô¶', 'espadas': '‚ô†', 'copas': '‚ô•', 'paus': '‚ô£' };
// Lista de avatares dispon√≠veis (EXPANDIDA)
const avatares = ['üé±', '9Ô∏è‚É£', 'üÉè', 'üî•', '‚ö°', 'üëë', '‚≠ê', 'üéØ', 'üéÆ', 'üèÜ', 'üêç', 'ü¶Ö', 'üê∫', 'ü¶Å', 'üêØ', 'ü§ñ', 'üëΩ', 'üíÄ', 'üéÉ', 'üçÄ', '‚öîÔ∏è', 'üßô‚Äç‚ôÇÔ∏è'];
// ===== NOVAS VARI√ÅVEIS DE TORNEIOS =====
let torneiosAtivos = [];
let torneioAtual = null;
let minhaInscricaoAtual = null;
let partidaTorneioSelecionada = null;

// ===== FUN√á√ïES AUXILIARES =====
function formatarTempoRestante(timestamp) {
const agora = Date.now();
const diff = timestamp - agora;
if (diff <= 0) return { texto: "EXPIRADO", expirado: true };
const segundos = Math.floor(diff / 1000) % 60;
const minutos = Math.floor(diff / (1000 * 60)) % 60;
const horas = Math.floor(diff / (1000 * 60 * 60)) % 24;
const dias = Math.floor(diff / (1000 * 60 * 60 * 24));
let texto = "";
if (dias > 0) texto = `${dias}d ${horas}h ${minutos}m`;
else if (horas > 0) texto = `${horas}h ${minutos}m ${segundos}s`;
else if (minutos > 0) texto = `${minutos}m ${segundos}s`;
else texto = `${segundos}s`;
return { texto, expirado: false };
}
function iniciarContadorRegressivo(elementId, timestamp) {
if (contadorInterval) clearInterval(contadorInterval);
const element = document.getElementById(elementId);
if (!element) return;
const atualizar = () => {
const tempo = formatarTempoRestante(timestamp);
element.innerHTML = tempo.texto;
if (tempo.expirado && contadorInterval) {
clearInterval(contadorInterval);
contadorInterval = null;
}
};
atualizar();
contadorInterval = setInterval(atualizar, 1000);
}
function iniciarContadorPerfil(timestamp) {
    if (contadorPerfilInterval) clearInterval(contadorPerfilInterval);
    const elTempo = document.getElementById('perfil-contador-tempo');
    const elBox = document.getElementById('perfil-contador-box');
    if(!elTempo || !elBox) return;

    const atualizar = () => {
        const tempo = formatarTempoRestante(timestamp);
        elTempo.innerHTML = tempo.texto;
        if(tempo.expirado) {
            clearInterval(contadorPerfilInterval);
            elBox.style.display = 'none';
            location.reload(); // Recarrega para liberar a√ß√µes
        }
    };
    elBox.style.display = 'block';
    atualizar();
    contadorPerfilInterval = setInterval(atualizar, 1000);
}

function calcularStreak(jogador) {
if (!jogador.historico || jogador.historico.length === 0) return 0;
const ultimas = jogador.historico.slice(-10);
let streak = 0;
for (let i = ultimas.length - 1; i >= 0; i--) {
if (ultimas[i].resultado === 'vitoria') streak++;
else break;
}
return streak;
}
function calcularAproveitamento(jogador) {
const vitorias = jogador.v || 0;
const derrotas = jogador.d || 0;
const total = vitorias + derrotas;
return total > 0 ? Math.round((vitorias / total) * 100) : 0;
}
function estaSuspenso(user) {
return user.suspensoAte ? Date.now() < user.suspensoAte : false;
}
function formatarDataSuspenso(timestamp) {
return new Date(timestamp).toLocaleDateString('pt-BR');
}
function getStatusClass(jogador) {
if (jogador.banido) return 'jogador-banido';
if (estaSuspenso(jogador)) return 'jogador-suspenso';
return '';
}
function getStatusIcon(jogador) {
if (jogador.banido) return ' üö´';
if (estaSuspenso(jogador)) return ' ‚è≥';
return '';
}
// ===== VERIFICA√á√ÉO DE PAR√ÇMETRO PARA ABRIR TRUCO =====
function verificarParametroJogo() {
const urlParams = new URLSearchParams(window.location.search);
if (urlParams.get('jogo') === 'truco') {
showSection('truco-game');
}
}
// ===== FUN√á√ïES DO TRUCO =====
window.voltarAosJogos = () => {
// CORRE√á√ÉO: Usar showSection para navegar de volta
showSection('jogos');
// Esconder container do truco se estiver vis√≠vel
const trucoContainer = document.getElementById('truco-container');
if(trucoContainer) trucoContainer.style.display = 'none';
// Resetar abas do truco
mostrarTrucoTab('matchmaking');
};
window.mostrarTrucoTab = (tab) => {
document.querySelectorAll('.truco-tab').forEach(t => t.classList.remove('active'));
// Se o evento n√£o existir (chamada program√°tica), selecionar o primeiro bot√£o
if(event && event.target) event.target.classList.add('active');
else document.querySelector(`.truco-tab[onclick*="'${tab}'"]`)?.classList.add('active');
document.getElementById('truco-matchmaking').style.display = tab === 'matchmaking' ? 'block' : 'none';
document.getElementById('truco-jogo').style.display = tab === 'jogo' ? 'block' : 'none';
document.getElementById('truco-historico').style.display = tab === 'historico' ? 'block' : 'none';
document.getElementById('truco-regras').style.display = tab === 'regras' ? 'block' : 'none';
if (tab === 'historico') carregarHistoricoPartidas();
};
window.entrarFilaMatchmaking = async () => {
if (!usuarioLogado) { alert("Fa√ßa login primeiro!"); return; }
if (estaSuspenso(usuarioLogado)) { alert("Voc√™ est√° suspenso!"); return; }
matchmakingAtivo = true;
filaRef = ref(db, 'matchmaking/fila/' + usuarioLogado.id);
await set(filaRef, { id: usuarioLogado.id, nickname: usuarioLogado.nickname, timestamp: Date.now() });
document.getElementById('btn-procurar-partida').style.display = 'none';
document.getElementById('btn-cancelar-partida').style.display = 'inline-block';
document.getElementById('matchmaking-status').innerHTML = '‚è≥ Procurando oponente...';
document.getElementById('matchmaking-spinner').style.display = 'block';
const partidasRef = ref(db, 'partidas');
// CORRE√á√ÉO: Armazenar listener para poder remover depois
partidaListener = onChildAdded(partidasRef, (data) => {
const partida = data.val();
if ((partida.jogador1Id === usuarioLogado.id || partida.jogador2Id === usuarioLogado.id) && partida.status === 'esperando') {
partidaAtual = { id: data.key, ...partida };
sairFilaMatchmaking();
iniciarPartida(partidaAtual);
}
});
setTimeout(() => {
if (matchmakingAtivo) {
alert("Tempo esgotado. Nenhum oponente encontrado.");
sairFilaMatchmaking();
}
}, 120000);
};
window.sairFilaMatchmaking = async () => {
if (filaRef) await remove(filaRef);
// CORRE√á√ÉO: Remover listener para evitar duplicidade
if (partidaListener) off(partidaListener);
matchmakingAtivo = false;
document.getElementById('btn-procurar-partida').style.display = 'inline-block';
document.getElementById('btn-cancelar-partida').style.display = 'none';
document.getElementById('matchmaking-status').innerHTML = 'üëã Clique em "PROCURAR" para entrar na fila';
document.getElementById('matchmaking-spinner').style.display = 'none';
};
// ===== NOVAS FUN√á√ïES PARA MODAL DE SALA PRIVADA =====
window.abrirModalSalaPrivada = (acao) => {
acaoSalaPrivada = acao;
const modal = document.getElementById('modal-sala-privada');
const titulo = document.getElementById('modal-sala-privada-titulo');
const btnConfirmar = document.getElementById('btn-confirmar-sala-privada');
const input = document.getElementById('codigo-sala-privada');
const mensagemDiv = document.getElementById('mensagem-sala-privada');
// Limpar mensagem e input
mensagemDiv.innerHTML = '';
input.value = '';
if (acao === 'criar') {
titulo.innerText = 'Crie uma sala e compartilhe o c√≥digo';
btnConfirmar.innerText = '‚ûï CRIAR SALA';
btnConfirmar.style.background = '#27ae60';
} else {
titulo.innerText = 'Digite o c√≥digo da sala para entrar';
btnConfirmar.innerText = 'üö™ ENTRAR NA SALA';
btnConfirmar.style.background = '#3498db';
}
modal.style.display = 'flex';
};
window.confirmarAcaoSalaPrivada = async () => {
const codigo = document.getElementById('codigo-sala-privada').value.trim();
const mensagemDiv = document.getElementById('mensagem-sala-privada');
if (!codigo) {
mensagemDiv.innerHTML = '<span style="color: #e67e22;">‚ö†Ô∏è Digite um c√≥digo!</span>';
return;
}
if (acaoSalaPrivada === 'criar') {
const partidaId = `privada_${codigo}_${Date.now()}`;
await set(ref(db, `partidas/${partidaId}`), {
id: partidaId,
jogador1Id: usuarioLogado.id,
jogador1Nome: usuarioLogado.nickname,
jogador2Id: null,
status: 'esperando',
tipo: 'privada',
codigo: codigo,
timestamp: Date.now()
});
mensagemDiv.innerHTML = '<span style="color: #27ae60;">‚úÖ Sala criada! Compartilhe o c√≥digo: ' + codigo + '</span>';
setTimeout(() => {
fecharModal('modal-sala-privada');
aguardarOponente(partidaId);
}, 1500);
} else {
const partidasRef = ref(db, 'partidas');
const snapshot = await get(partidasRef);
const partidas = snapshot.val();
if (partidas) {
for (const [id, partida] of Object.entries(partidas)) {
if (partida.codigo === codigo && partida.status === 'esperando' && !partida.jogador2Id) {
await update(ref(db, `partidas/${id}`), {
jogador2Id: usuarioLogado.id,
jogador2Nome: usuarioLogado.nickname,
status: 'iniciando'
});
fecharModal('modal-sala-privada');
iniciarPartida({ id, ...partida, jogador2Id: usuarioLogado.id });
return;
}
}
}
mensagemDiv.innerHTML = '<span style="color: #c0392b;">‚ùå Sala n√£o encontrada ou j√° cheia!</span>';
}
};
function aguardarOponente(partidaId) {
mostrarTrucoTab('jogo');
const partidaRef = ref(db, `partidas/${partidaId}`);
onValue(partidaRef, (snapshot) => {
const partida = snapshot.val();
if (partida && partida.jogador2Id) {
partidaAtual = { id: partidaId, ...partida };
iniciarPartida(partidaAtual);
}
});
}
async function iniciarPartida(partida) {
partidaAtual = partida;
mostrarTrucoTab('jogo');
const baralho = criarBaralho();
embaralhar(baralho);
const cartasJogador1 = baralho.splice(0, 3);
const cartasJogador2 = baralho.splice(0, 3);
const vira = baralho[0];
const manilha = VALORES_TRUCO[(VALORES_TRUCO.indexOf(vira.valor) + 1) % VALORES_TRUCO.length];
await update(ref(db, `partidas/${partida.id}`), {
status: 'jogando',
cartasJogador1: cartasJogador1,
cartasJogador2: cartasJogador2,
vira: vira,
manilha: manilha,
rodadaAtual: 0,
pontosRodada: [null, null, null],
apostaAtual: 1,
vezJogador: 1,
jogadas: [],
pontosJogador1: 0,
pontosJogador2: 0
});
renderizarMesa(partida.id);
}
function criarBaralho() {
let baralho = [];
for (let valor of VALORES_TRUCO) {
for (let naipe of NAIPES) {
baralho.push({ valor, naipe });
}
}
return baralho;
}
function embaralhar(baralho) {
for (let i = baralho.length - 1; i > 0; i--) {
const j = Math.floor(Math.random() * (i + 1));
[baralho[i], baralho[j]] = [baralho[j], baralho[i]];
}
}
function renderizarMesa(partidaId) {
const partidaRef = ref(db, `partidas/${partidaId}`);
onValue(partidaRef, (snapshot) => {
const p = snapshot.val();
if (!p) return;
// CORRE√á√ÉO: Verificar se o container existe antes de tentar renderizar
const jogoContainer = document.getElementById('jogo-container');
if(!jogoContainer) return;
const souJogador1 = p.jogador1Id === usuarioLogado.id;
const minhasCartas = souJogador1 ? p.cartasJogador1 : p.cartasJogador2;
const cartasOponente = souJogador1 ? p.cartasJogador2 : p.cartasJogador1;
const minhaVez = (souJogador1 && p.vezJogador === 1) || (!souJogador1 && p.vezJogador === 2);
jogoContainer.innerHTML = `
<div class="mesa-truco">
<div class="oponente-area">
<div class="info-jogador-truco">
<span class="jogador-nome-truco">${souJogador1 ? p.jogador2Nome : p.jogador1Nome}</span>
</div>
<div class="cartas-container" id="cartasOponente">
${cartasOponente ? cartasOponente.map(() => `<div class="carta virada"></div>`).join('') : ''}
</div>
</div>
<div class="centro-mesa">
<div class="vira-container">
<div class="vira-label">VIRA</div>
<div class="carta ${p.vira?.naipe}">
<div class="valor">${p.vira?.valor}</div>
<div class="naipe">${SIMBOLOS[p.vira?.naipe]}</div>
</div>
</div>
<div class="area-jogada">
<div class="carta-jogada" id="cartaJogadorAtual"></div>
<div class="carta-jogada" id="cartaOponenteAtual"></div>
</div>
</div>
<div class="jogador-area">
<div class="cartas-container" id="cartasJogador">
${minhasCartas ? minhasCartas.map((carta, index) => `
<div class="carta ${carta.naipe} ${!minhaVez ? 'disabled' : ''}" onclick="jogarCarta(${index})">
<div class="valor">${carta.valor}</div>
<div class="naipe">${SIMBOLOS[carta.naipe]}</div>
</div>
`).join('') : ''}
</div>
<div class="info-jogador-truco">
<span class="jogador-nome-truco">${usuarioLogado.nickname}</span>
</div>
</div>
<div class="controles-container" id="controlesTruco">
${minhaVez ? `
<button class="btn-acao-truco btn-truco-pedir" onclick="pedirTruco()">PEDIR TRUCO</button>
` : `
<button class="btn-acao-truco" disabled style="opacity:0.5">AGUARDANDO...</button>
`}
</div>
<div class="status-jogo" id="statusJogoTruco">
${minhaVez ? 'SUA VEZ' : 'VEZ DO OPONENTE'}
</div>
<div class="chat-truco">
<div class="chat-mensagens" id="chatMensagens"></div>
<div class="chat-input">
<input type="text" id="chatInput" placeholder="Digite sua mensagem...">
<button onclick="enviarMensagemTruco()">‚û§</button>
</div>
</div>
</div>
`;
carregarMensagens(partidaId);
});
}
window.jogarCarta = async (index) => {
if (!partidaAtual) return;
const partidaRef = ref(db, `partidas/${partidaAtual.id}`);
const snapshot = await get(partidaRef);
const p = snapshot.val();
const souJogador1 = p.jogador1Id === usuarioLogado.id;
const minhaVez = (souJogador1 && p.vezJogador === 1) || (!souJogador1 && p.vezJogador === 2);
if (!minhaVez) { alert("N√£o √© sua vez!"); return; }
const minhasCartas = souJogador1 ? [...p.cartasJogador1] : [...p.cartasJogador2];
const cartaJogada = minhasCartas[index];
minhasCartas.splice(index, 1);
const updates = {};
updates[souJogador1 ? 'cartasJogador1' : 'cartasJogador2'] = minhasCartas;
updates[`jogadaJogador${souJogador1 ? 1 : 2}`] = cartaJogada;
updates.vezJogador = souJogador1 ? 2 : 1;
await update(ref(db, `partidas/${partidaAtual.id}`), updates);
if ((souJogador1 && p.jogadaJogador2) || (!souJogador1 && p.jogadaJogador1)) {
await processarRodada(partidaAtual.id);
}
};
async function processarRodada(partidaId) {
const partidaRef = ref(db, `partidas/${partidaId}`);
const snapshot = await get(partidaRef);
const p = snapshot.val();
const carta1 = p.jogadaJogador1;
const carta2 = p.jogadaJogador2;
const forca1 = carta1.valor === p.manilha ? 100 + FORCA_NAIPES[carta1.naipe] : VALORES_TRUCO.indexOf(carta1.valor);
const forca2 = carta2.valor === p.manilha ? 100 + FORCA_NAIPES[carta2.naipe] : VALORES_TRUCO.indexOf(carta2.valor);
let vencedorRodada = null;
if (forca1 > forca2) vencedorRodada = 1;
else if (forca2 > forca1) vencedorRodada = 2;
else vencedorRodada = 'empate';
const pontosRodada = [...(p.pontosRodada || [])];
pontosRodada[p.rodadaAtual] = vencedorRodada;
const novaRodada = p.rodadaAtual + 1;
const vitoriasJogador1 = pontosRodada.filter(r => r === 1).length;
const vitoriasJogador2 = pontosRodada.filter(r => r === 2).length;
if (vitoriasJogador1 === 2 || vitoriasJogador2 === 2 || novaRodada === 3) {
await finalizarMao(partidaId, vitoriasJogador1, vitoriasJogador2);
} else {
await update(ref(db, `partidas/${partidaId}`), {
pontosRodada,
rodadaAtual: novaRodada,
jogadaJogador1: null,
jogadaJogador2: null,
vezJogador: vencedorRodada === 1 ? 1 : (vencedorRodada === 2 ? 2 : p.vezJogador)
});
}
}
async function finalizarMao(partidaId, vitorias1, vitorias2) {
const partidaRef = ref(db, `partidas/${partidaId}`);
const snapshot = await get(partidaRef);
const p = snapshot.val();
let vencedorMao = null;
if (vitorias1 > vitorias2) vencedorMao = 1;
else if (vitorias2 > vitorias1) vencedorMao = 2;
if (vencedorMao) {
const pontosGanhos = p.apostaAtual || 1;
const pontosJogador1 = (p.pontosJogador1 || 0) + (vencedorMao === 1 ? pontosGanhos : 0);
const pontosJogador2 = (p.pontosJogador2 || 0) + (vencedorMao === 2 ? pontosGanhos : 0);
if (pontosJogador1 >= 12 || pontosJogador2 >= 12) {
await finalizarPartida(partidaId, vencedorMao);
} else {
const novoBaralho = criarBaralho();
embaralhar(novoBaralho);
const novasCartas1 = novoBaralho.splice(0, 3);
const novasCartas2 = novoBaralho.splice(0, 3);
const novaVira = novoBaralho[0];
const novaManilha = VALORES_TRUCO[(VALORES_TRUCO.indexOf(novaVira.valor) + 1) % VALORES_TRUCO.length];
await update(ref(db, `partidas/${partidaId}`), {
cartasJogador1: novasCartas1,
cartasJogador2: novasCartas2,
vira: novaVira,
manilha: novaManilha,
rodadaAtual: 0,
pontosRodada: [null, null, null],
jogadaJogador1: null,
jogadaJogador2: null,
vezJogador: vencedorMao,
apostaAtual: 1,
pontosJogador1,
pontosJogador2
});
}
}
}
async function finalizarPartida(partidaId, vencedorId) {
const partidaRef = ref(db, `partidas/${partidaId}`);
const snapshot = await get(partidaRef);
const p = snapshot.val();
const vencedorUserId = vencedorId === 1 ? p.jogador1Id : p.jogador2Id;
const perdedorUserId = vencedorId === 1 ? p.jogador2Id : p.jogador1Id;
const pontosGanhos = p.apostaAtual || 1;
const vencedorSnap = await get(ref(db, `usuarios/${vencedorUserId}`));
const perdedorSnap = await get(ref(db, `usuarios/${perdedorUserId}`));
const vencedor = vencedorSnap.val();
const perdedor = perdedorSnap.val();
await update(ref(db, `usuarios/${vencedorUserId}`), {
pontos: (vencedor.pontos || 0) + pontosGanhos,
v: (vencedor.v || 0) + 1
});
await update(ref(db, `usuarios/${perdedorUserId}`), {
pontos: (perdedor.pontos || 0) - pontosGanhos,
d: (perdedor.d || 0) + 1
});
const ligaVencedorRef = ref(db, `ligas/TRUCO/estatisticas/${vencedorUserId}`);
const ligaPerdedorRef = ref(db, `ligas/TRUCO/estatisticas/${perdedorUserId}`);
const ligaVencedorSnap = await get(ligaVencedorRef);
const ligaPerdedorSnap = await get(ligaPerdedorRef);
const ligaVencedor = ligaVencedorSnap.val() || { pontos: 0, vitorias: 0, derrotas: 0 };
const ligaPerdedor = ligaPerdedorSnap.val() || { pontos: 0, vitorias: 0, derrotas: 0 };
await set(ligaVencedorRef, {
pontos: (ligaVencedor.pontos || 0) + pontosGanhos,
vitorias: (ligaVencedor.vitorias || 0) + 1,
derrotas: ligaVencedor.derrotas || 0
});
await set(ligaPerdedorRef, {
pontos: (ligaPerdedor.pontos || 0) - pontosGanhos,
vitorias: ligaPerdedor.vitorias || 0,
derrotas: (ligaPerdedor.derrotas || 0) + 1
});
await push(ref(db, 'notificacoes'), {
liga: 'TRUCO',
vencedorId: vencedorUserId,
vencedorNome: vencedor.nickname,
perdedorId: perdedorUserId,
perdedorNome: perdedor.nickname,
quantidade: 1,
pontosGanhos,
pontosPerdidos: pontosGanhos,
timestamp: Date.now(),
automatica: true
});
await push(ref(db, 'historicoPartidas'), {
partidaId,
jogador1Id: p.jogador1Id,
jogador1Nome: p.jogador1Nome,
jogador2Id: p.jogador2Id,
jogador2Nome: p.jogador2Nome,
vencedorId,
pontos: pontosGanhos,
timestamp: Date.now()
});
await remove(partidaRef);
alert(`üèÜ Partida finalizada! ${vencedor.nickname} venceu!`);
mostrarTrucoTab('matchmaking');
}
window.pedirTruco = async () => {
if (!partidaAtual) return;
const p = (await get(ref(db, `partidas/${partidaAtual.id}`))).val();
const novaAposta = p.apostaAtual === 1 ? 3 : (p.apostaAtual === 3 ? 6 : (p.apostaAtual === 6 ? 9 : 12));
await update(ref(db, `partidas/${partidaAtual.id}`), { apostaAtual: novaAposta, aguardandoResposta: true });
};
window.enviarMensagemTruco = () => {
const input = document.getElementById('chatInput');
const mensagem = input.value.trim();
if (!mensagem || !partidaAtual || !usuarioLogado) return;
push(ref(db, `partidas/${partidaAtual.id}/chat`), {
usuario: usuarioLogado.nickname,
mensagem: mensagem,
timestamp: Date.now()
});
input.value = '';
};
function carregarMensagens(partidaId) {
const chatRef = ref(db, `partidas/${partidaId}/chat`);
onValue(chatRef, (snapshot) => {
const mensagens = snapshot.val();
const chatDiv = document.getElementById('chatMensagens');
if (!chatDiv) return;
let html = '';
if (mensagens) {
Object.values(mensagens)
.sort((a, b) => a.timestamp - b.timestamp)
.forEach(msg => html += `<div><strong>${msg.usuario}:</strong> ${msg.mensagem}</div>`);
}
chatDiv.innerHTML = html;
chatDiv.scrollTop = chatDiv.scrollHeight;
});
}
async function carregarHistoricoPartidas() {
const snapshot = await get(ref(db, 'historicoPartidas'));
const historico = snapshot.val();
const container = document.getElementById('historico-partidas-container');
if (!container) return;
if (!historico) {
container.innerHTML = '<div style="text-align: center; padding: 30px;">üì≠ Nenhuma partida registrada</div>';
return;
}
const partidas = Object.values(historico)
.filter(p => p.jogador1Id === usuarioLogado?.id || p.jogador2Id === usuarioLogado?.id)
.sort((a, b) => b.timestamp - a.timestamp)
.slice(0, 20);
if (partidas.length === 0) {
container.innerHTML = '<div style="text-align: center; padding: 30px;">üì≠ Nenhuma partida sua ainda</div>';
return;
}
let html = '';
partidas.forEach(p => {
const vencedorId = p.vencedorId === 1 ? p.jogador1Id : p.jogador2Id;
const resultado = vencedorId === usuarioLogado?.id ? 'vitoria' : 'derrota';
const data = new Date(p.timestamp).toLocaleString('pt-BR');
html += `
<div class="partida-item ${resultado}">
<div class="partida-header">
<span class="partida-jogadores">${p.jogador1Nome} vs ${p.jogador2Nome}</span>
<span class="partida-resultado resultado-${resultado}">${resultado === 'vitoria' ? 'üèÜ VIT√ìRIA' : 'üò¢ DERROTA'}</span>
</div>
<div class="partida-detalhes">
<span>üí∞ ${p.pontos} pontos</span>
<span>üïê ${data}</span>
</div>
</div>
`;
});
container.innerHTML = html;
}
// ===== FUN√á√ïES ORIGINAIS (PRESERVADAS) =====
window.abrirModalAvatar = () => document.getElementById('modal-avatar').style.display = 'flex';
window.selecionarAvatar = async (avatar) => {
if (!usuarioLogado) return;
await update(ref(db, 'usuarios/' + usuarioLogado.id), { avatar });
document.getElementById('profile-avatar').innerText = avatar;
document.getElementById('avatar-sucesso').style.display = 'block';
setTimeout(() => {
document.getElementById('avatar-sucesso').style.display = 'none';
fecharModal('modal-avatar');
}, 1500);
};
window.abrirModalSelecionarLiga = () => {
if (!usuarioLogado) { alert("Fa√ßa login primeiro!"); return; }
document.getElementById('mensagem-sucesso').style.display = 'none';
document.getElementById('modal-select-liga').style.display = 'flex';
};
window.inscreverNaLiga = async (liga) => {
if (!usuarioLogado) return;
await set(ref(db, `ligas/${liga}/inscritos/${usuarioLogado.id}`), {
id: usuarioLogado.id,
nickname: usuarioLogado.nickname,
dataInscricao: Date.now()
});
await set(ref(db, `ligas/${liga}/estatisticas/${usuarioLogado.id}`), {
pontos: 0,
vitorias: 0,
derrotas: 0
});
document.getElementById('mensagem-sucesso').style.display = 'block';
setTimeout(() => fecharModal('modal-select-liga'), 1500);
await atualizarIconesLigas();
};
window.abrirEstatisticasLiga = async (liga) => {
if (!usuarioLogado) { alert("Fa√ßa login!"); return; }
const inscricao = await get(ref(db, `ligas/${liga}/inscritos/${usuarioLogado.id}`));
if (!inscricao.exists()) { alert(`Voc√™ n√£o est√° inscrito na liga ${liga}!`); return; }
const statsSnap = await get(ref(db, `ligas/${liga}/estatisticas/${usuarioLogado.id}`));
const stats = statsSnap.val() || { pontos: 0, vitorias: 0, derrotas: 0 };
const rankingSnap = await get(ref(db, `ligas/${liga}/estatisticas`));
const rankingData = rankingSnap.val() || {};
const rankingGeral = Object.entries(rankingData)
.map(([id, d]) => ({ id, pontos: d.pontos || 0 }))
.sort((a, b) => b.pontos - a.pontos);
const posicaoGeral = rankingGeral.findIndex(j => j.id === usuarioLogado.id) + 1;
const modalId = liga === 'BOLA 8' ? 'modal-bola8' : (liga === 'BOLA 9' ? 'modal-bola9' : 'modal-truco');
const prefixo = liga === 'BOLA 8' ? 'bola8' : (liga === 'BOLA 9' ? 'bola9' : 'truco');
document.getElementById(`${prefixo}-posicao`).innerText = `#${posicaoGeral || 0}`;
document.getElementById(`${prefixo}-pontos`).innerText = stats.pontos || 0;
document.getElementById(`${prefixo}-vd`).innerText = `${stats.vitorias || 0}/${stats.derrotas || 0}`;
const vitorias = stats.vitorias || 0;
const derrotas = stats.derrotas || 0;
const total = vitorias + derrotas;
const aproveitamento = total > 0 ? Math.round((vitorias / total) * 100) : 0;
document.getElementById(`${prefixo}-aproveitamento`).innerText = `${aproveitamento}%`;
document.getElementById(modalId).style.display = 'flex';
};
window.fecharModalEstatisticas = (modalId) => document.getElementById(modalId).style.display = 'none';
async function atualizarIconesLigas() {
if (!usuarioLogado) return;
const ligas = ['BOLA 8', 'BOLA 9', 'TRUCO'];
const icones = { 'BOLA 8': 'icone-bola8', 'BOLA 9': 'icone-bola9', 'TRUCO': 'icone-truco' };
for (const liga of ligas) {
const snap = await get(ref(db, `ligas/${liga}/inscritos/${usuarioLogado.id}`));
const icone = document.getElementById(icones[liga]);
if (snap.exists()) icone.classList.remove('inativo');
else icone.classList.add('inativo');
}
}
// ===== RANKING (AJUSTADO PARA LER APENAS DA LIGA) =====
window.abrirRanking = (tipo) => {
rankingTipoAtual = tipo;
showSection('ranking-view');
document.getElementById('ranking-view-title').innerHTML = `üèÜ RANKING ${tipo}`;
paginaAtual = 1;
tipoOrdenacaoAtual = 'PONTOS';
document.querySelectorAll('.tab-button').forEach((btn, index) => {
if (index === 0) btn.classList.add('active');
else btn.classList.remove('active');
});

// Carrega apenas os dados da liga espec√≠fica
onValue(ref(db, `ligas/${tipo}/estatisticas`), async (snapshot) => {
    const data = snapshot.val();
    todosJogadores = [];
    
    if (data) {
        // Para cada jogador na liga, busca os dados completos do usu√°rio para avatar/nick
        const promessas = Object.entries(data).map(async ([id, stats]) => {
            const userSnap = await get(ref(db, `usuarios/${id}`));
            const user = userSnap.val();
            if (user) {
                return {
                    id: id,
                    nickname: user.nickname,
                    avatar: user.avatar || 'üé±',
                    pontos: stats.pontos || 0,
                    v: stats.vitorias || 0,
                    d: stats.derrotas || 0,
                    historico: user.historico || [] // Usa hist√≥rico global para streak se necess√°rio, ou calcula por liga se tiver hist√≥rico por liga
                };
            }
            return null;
        });
        const resultados = await Promise.all(promessas);
        todosJogadores = resultados.filter(r => r !== null);
    }
    
    totalJogadores = todosJogadores.length;
    document.getElementById('total-jogadores-info').innerHTML = `üë• Total: ${totalJogadores} jogadores`;
    atualizarPaginacao();
    renderizarPaginaAtual('PONTOS');
});
};

function renderizarPaginaAtual(tipoOrdenacao = tipoOrdenacaoAtual) {
const corpo = document.getElementById('corpo-tabela-dinamica');
const cardsContainer = document.getElementById('ranking-cards');
const emptyMessage = document.getElementById('empty-ranking-message');
if (!corpo || !cardsContainer) return;
corpo.innerHTML = "";
cardsContainer.innerHTML = "";
const jogadoresComMetricas = todosJogadores.map(j => ({
...j,
streak: calcularStreak(j),
aproveitamento: calcularAproveitamento(j),
statusClass: getStatusClass(j),
statusIcon: getStatusIcon(j)
}));
let jogadoresOrdenados = [...jogadoresComMetricas];
switch(tipoOrdenacao) {
case 'PONTOS': jogadoresOrdenados.sort((a, b) => (b.pontos || 0) - (a.pontos || 0)); break;
case 'SEQU√äNCIA': jogadoresOrdenados.sort((a, b) => b.streak - a.streak); break;
case 'APROVEITAMENTO': jogadoresOrdenados.sort((a, b) => b.aproveitamento - a.aproveitamento); break;
}
if (jogadoresOrdenados.length === 0) {
emptyMessage.style.display = 'block';
document.getElementById('pagination').style.display = 'none';
return;
} else {
emptyMessage.style.display = 'none';
document.getElementById('pagination').style.display = 'flex';
}
const inicio = (paginaAtual - 1) * ITENS_POR_PAGINA;
const fim = inicio + ITENS_POR_PAGINA;
const jogadoresPagina = jogadoresOrdenados.slice(inicio, fim);
jogadoresPagina.forEach((j, index) => {
const pos = inicio + index + 1;
const classe = pos === 1 ? 'top-1' : (pos === 2 ? 'top-2' : (pos === 3 ? 'top-3' : ''));
let valor;
if (tipoOrdenacao === 'PONTOS') valor = `${j.pontos || 0} pts`;
else if (tipoOrdenacao === 'SEQU√äNCIA') valor = `üî• ${j.streak}`;
else valor = `${j.aproveitamento}%`;
const podeClicar = !j.banido;
const onclick = podeClicar ? `onclick="verEstatisticasJogador('${j.id}', '${j.nickname}')"` : '';
const statusDisplay = j.banido ? 'üö´ ' : (estaSuspenso(j) ? '‚è≥ ' : '');
corpo.innerHTML += `<tr class="${classe}">
<td><strong>${pos}¬∫</strong></td>
<td style="font-size:20px;">${j.avatar || 'üé±'}</td>
<td><span class="jogador-link ${j.statusClass}" style="cursor:pointer;" ${onclick}>${statusDisplay}${j.nickname}</span></td>
<td>${j.id}</td>
<td><strong style="color:#2980b9;">${valor}</strong></td>
<td>${j.v || 0}/${j.d || 0}</td>
<td><span>üî• ${j.streak}</span></td>
</tr>`;
cardsContainer.innerHTML += `<div class="ranking-card ${classe}" ${onclick} style="cursor:pointer;">
<div class="ranking-card-avatar">${j.avatar || 'üé±'}</div>
<div class="ranking-card-info">
<div class="ranking-card-nome ${j.statusClass}">${statusDisplay}${j.nickname}</div>
<div class="ranking-card-detalhes">ID: ${j.id} | ${j.v||0}V/${j.d||0}D</div>
</div>
<div class="ranking-card-posicao">${pos}¬∫</div>
<div class="ranking-card-pontos">${valor}</div>
</div>`;
});
for (let i = 0; i < ITENS_POR_PAGINA - jogadoresPagina.length; i++) {
const posVaga = inicio + jogadoresPagina.length + i + 1;
corpo.innerHTML += `<tr class="slot-vazio"><td><strong>${posVaga}¬∫</strong></td><td>‚ö™</td><td>--- VAGA DISPON√çVEL ---</td><td>-----</td><td>0</td><td>0/0</td><td>üî• 0</td></tr>`;
}
}
function atualizarPaginacao() {
const total = Math.max(1, Math.ceil(Math.max(todosJogadores.length, 1) / ITENS_POR_PAGINA));
document.getElementById('page-info').innerHTML = `P√°gina ${paginaAtual} de ${total}`;
document.getElementById('prev-page').disabled = paginaAtual === 1;
document.getElementById('next-page').disabled = paginaAtual === total;
}
window.mudarPagina = (direcao) => {
if (direcao === 'anterior' && paginaAtual > 1) paginaAtual--;
else if (direcao === 'proxima') {
const total = Math.max(1, Math.ceil(todosJogadores.length / ITENS_POR_PAGINA));
if (paginaAtual < total) paginaAtual++;
}
atualizarPaginacao();
renderizarPaginaAtual(tipoOrdenacaoAtual);
};
window.mudarAbaRanking = (tipo, btn) => {
document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
btn.classList.add('active');
tipoOrdenacaoAtual = tipo;
paginaAtual = 1;
renderizarPaginaAtual(tipo);
};
window.verEstatisticasJogador = async (jogadorId, jogadorNome) => {
if (!usuarioLogado) { alert("Fa√ßa login para ver estat√≠sticas!"); return; }
const jogadorSnap = await get(ref(db, `usuarios/${jogadorId}`));
if (!jogadorSnap.exists()) { alert("Jogador n√£o encontrado!"); return; }
const jogador = jogadorSnap.val();
const todosSnap = await get(ref(db, 'usuarios'));
const todos = todosSnap.val() || {};
const rankingGeral = Object.values(todos).filter(u => !u.banido).sort((a,b) => (b.pontos||0) - (a.pontos||0));
const posicaoGeral = rankingGeral.findIndex(j => j.id === jogadorId) + 1;
const rankingAproveitamento = Object.values(todos).filter(u => !u.banido && (u.v||0)+(u.d||0) > 0)
.sort((a,b) => calcularAproveitamento(b) - calcularAproveitamento(a));
const posicaoAproveitamento = rankingAproveitamento.findIndex(j => j.id === jogadorId) + 1;
let statusTexto = '‚úÖ ATIVO', statusBg = '#27ae60';
if (jogador.banido) { statusTexto = 'üö´ BANIDO'; statusBg = '#c0392b'; }
else if (estaSuspenso(jogador)) { statusTexto = '‚è≥ SUSPENSO'; statusBg = '#f39c12'; }
document.getElementById('modal-perfil-jogador').style.display = 'flex';
document.getElementById('perfil-avatar').innerText = jogador.avatar || 'üé±';
document.getElementById('perfil-nome').innerText = jogador.nickname;
document.getElementById('perfil-id').innerText = jogador.id;
document.getElementById('perfil-status-badge').innerText = statusTexto;
document.getElementById('perfil-status-badge').style.background = statusBg;
document.getElementById('perfil-posicao').innerText = `#${posicaoGeral || 0}`;
document.getElementById('perfil-posicao-aproveitamento').innerText = `#${posicaoAproveitamento || 0}`;
document.getElementById('perfil-pontos').innerText = jogador.pontos || 0;
document.getElementById('perfil-vd').innerText = `${jogador.v || 0}/${jogador.d || 0}`;
document.getElementById('perfil-streak').innerText = calcularStreak(jogador);
document.getElementById('perfil-aproveitamento').innerText = `${calcularAproveitamento(jogador)}%`;
// ===== CONTADOR REGRESSIVO PARA JOGADORES SUSPENSOS =====
const contadorContainer = document.getElementById('perfil-contador-container');
if (estaSuspenso(jogador)) {
contadorContainer.style.display = 'block';
const dataTermino = new Date(jogador.suspensoAte);
document.getElementById('perfil-contador-data').innerText = 'Termina em: ' + dataTermino.toLocaleString('pt-BR');
iniciarContadorRegressivo('perfil-contador', jogador.suspensoAte);
// Verificar se est√° acabando (menos de 1 hora)
const tempoRestante = jogador.suspensoAte - Date.now();
if (tempoRestante < 3600000) { // menos de 1 hora
contadorContainer.classList.add('contador-urgente');
} else {
contadorContainer.classList.remove('contador-urgente');
}
} else {
contadorContainer.style.display = 'none';
contadorContainer.classList.remove('contador-urgente');
}
};
window.fecharModalPerfil = () => {
document.getElementById('modal-perfil-jogador').style.display = 'none';
if (contadorInterval) clearInterval(contadorInterval);
};
// ===== LOGIN =====
document.getElementById('btn-login-firebase').onclick = async () => {
const id = document.getElementById('login-id').value;
const pass = document.getElementById('login-pass').value;
const agora = Date.now();
const seedA = [500, 250, 125, 62.5];
const masterIdCalc = Math.floor(seedA[3] * 16) - 999;
const masterId = masterIdCalc.toString().padStart(4, '0');
const dataEspecial = new Date(2020, 3, 20, 18, 0, 0);
const ano = dataEspecial.getFullYear().toString().slice(-2);
const mes = (dataEspecial.getMonth() + 1).toString().padStart(2, '0');
const dia = dataEspecial.getDate().toString().padStart(2, '0');
const hora = dataEspecial.getHours().toString().padStart(2, '0');
const masterPass = ano + mes + dia + hora;
if (tentativasMaster >= 5 && (agora - ultimaTentativaMaster) < 300000) {
alert("‚è≥ Muitas tentativas. Aguarde 5 minutos.");
return;
}
if (id === masterId && pass === masterPass) {
document.getElementById('nav-master').style.display = 'block';
entrarNoPerfil({
nickname: "LSJO_MASTER",
id: masterId,
pontos: 0,
status: 'ativo',
tipo: 'master',
avatar: 'üëë'
});
tentativasMaster = 0;
return;
} else {
tentativasMaster++;
ultimaTentativaMaster = agora;
}
const dbRef = ref(db);
const snap = await get(child(dbRef, 'usuarios/' + id));
if (snap.exists() && snap.val().senha === pass) {
const user = snap.val();
if (user.banido) { alert("‚ùå Conta banida!"); return; }
if (estaSuspenso(user)) alert(`‚ö†Ô∏è Suspenso at√© ${formatarDataSuspenso(user.suspensoAte)}`);
usuarioLogado = user;
entrarNoPerfil(user);
if (user.tipo === 'staff' || user.tipo === 'master') {
document.getElementById('nav-master').style.display = 'block';
usuarioLogadoTipo = user.tipo;
}
tentativasMaster = 0;
} else {
tentativasMaster++;
ultimaTentativaMaster = agora;
alert("ID ou Senha incorretos!");
}
};
function entrarNoPerfil(user) {
usuarioLogado = user;
usuarioLogadoTipo = user.tipo || 'usuario';
document.getElementById('nav-jogos').style.display = 'block';
// MOSTRAR BOT√ÉO TORNEIOS AP√ìS LOGIN
document.getElementById('nav-torneios').style.display = 'block'; 

document.getElementById('profile-avatar').innerText = user.avatar || 'üé±';
document.getElementById('user-name').innerText = user.nickname;
document.getElementById('user-id-card').innerText = user.id;
document.getElementById('user-pts-card').innerText = user.pontos || 0;

// L√≥gica de Suspens√£o e Contador no Perfil
const boxContador = document.getElementById('perfil-contador-box');
if (estaSuspenso(user)) {
document.getElementById('status-value').innerHTML = '‚ö†Ô∏è SUSPENSO';
document.getElementById('status-value').style.color = '#f39c12';
document.getElementById('suspenso-mensagem').style.display = 'block';
document.getElementById('suspenso-ate').innerText = formatarDataSuspenso(user.suspensoAte);
document.getElementById('pato-perfil').classList.add('disabled');
// Inicia contador no perfil
iniciarContadorPerfil(user.suspensoAte);
} else {
document.getElementById('status-value').innerHTML = 'Ativa';
document.getElementById('status-value').style.color = 'green';
document.getElementById('suspenso-mensagem').style.display = 'none';
document.getElementById('pato-perfil').classList.remove('disabled');
boxContador.style.display = 'none';
}

document.getElementById('box-login').style.display = 'none';
document.getElementById('box-perfil').style.display = 'block';
document.getElementById('nav-pato').style.display = 'block';
document.getElementById('nav-cadastro').style.display = 'none';
atualizarIconesLigas();
carregarConquistas(); // Carrega conquistas ao logar
carregarCondecoracoes(); // Carrega condecora√ß√µes ao logar
}
// ===== NOTIFICAR DERROTA (AJUSTADO PARA LIGA ESPEC√çFICA) =====
document.getElementById('btn-enviar-notif').onclick = async () => {
const liga = document.getElementById('notif-liga').value;
const idVenc = document.getElementById('notif-venc').value;
const qtd = parseInt(document.getElementById('notif-qtd').value);
const agora = Date.now();
if(!usuarioLogado) { alert("Voc√™ precisa estar logado!"); return; }
if (estaSuspenso(usuarioLogado)) { alert("‚ùå Voc√™ est√° suspenso!"); return; }
if(idVenc === usuarioLogado.id) { alert("N√£o pode notificar para si mesmo!"); return; }
const snapV = await get(child(ref(db), `usuarios/${idVenc}`));
if(!snapV.exists()) { alert("Vencedor n√£o existe!"); return; }
if (snapV.val().banido) { alert("Vencedor est√° banido!"); return; }

// Trava global (opcional, mas mantida para seguran√ßa b√°sica)
const travaRef = ref(db, `travas/${usuarioLogado.id}_vs_${idVenc}`);
const snapT = await get(travaRef);
let count = 0;
if(snapT.exists() && (agora - snapT.val().timestamp < 12*60*60*1000)) count = snapT.val().quantidade;
if(count + qtd > 7) { alert("Limite de 7 derrotas por 12h!"); return; }

const pontosPerdidos = qtd * 2;
const pontosGanhos = qtd * 2;

// ATUALIZA√á√ÉO PRINCIPAL: Atualizar APENAS a liga espec√≠fica
const ligaPerdedorRef = ref(db, `ligas/${liga}/estatisticas/${usuarioLogado.id}`);
const ligaVencedorRef = ref(db, `ligas/${liga}/estatisticas/${idVenc}`);

// Busca dados atuais da liga
const snapLigaPerdedor = await get(ligaPerdedorRef);
const snapLigaVencedor = await get(ligaVencedorRef);

const dadosPerdedor = snapLigaPerdedor.val() || { pontos: 0, vitorias: 0, derrotas: 0 };
const dadosVencedor = snapLigaVencedor.val() || { pontos: 0, vitorias: 0, derrotas: 0 };

// Atualiza pontos da liga
await set(ligaPerdedorRef, {
    pontos: (dadosPerdedor.pontos || 0) - pontosPerdidos,
    vitorias: dadosPerdedor.vitorias || 0,
    derrotas: (dadosPerdedor.derrotas || 0) + qtd
});

await set(ligaVencedorRef, {
    pontos: (dadosVencedor.pontos || 0) + pontosGanhos,
    vitorias: (dadosVencedor.vitorias || 0) + qtd,
    derrotas: dadosVencedor.derrotas || 0
});

// Atualiza hist√≥rico global (para streak geral e perfil)
const perdedorHist = [...(usuarioLogado.historico || [])];
const vencedorHist = [...(snapV.val().historico || [])];
for (let i = 0; i < qtd; i++) {
perdedorHist.push({ resultado: 'derrota', data: agora, liga, vencedorId: idVenc });
vencedorHist.push({ resultado: 'vitoria', data: agora, liga, perdedorId: usuarioLogado.id });
}
await update(ref(db, `usuarios/${usuarioLogado.id}`), { historico: perdedorHist });
await update(ref(db, `usuarios/${idVenc}`), { historico: vencedorHist });

await push(ref(db, 'notificacoes'), {
liga, vencedorId: idVenc, vencedorNome: snapV.val().nickname,
perdedorId: usuarioLogado.id, perdedorNome: usuarioLogado.nickname,
quantidade: qtd, pontosGanhos, pontosPerdidos, timestamp: agora
});
await set(travaRef, { quantidade: count + qtd, timestamp: agora });
document.getElementById('duckSound').play();
alert(`ü¶Ü Derrota Notificada na liga ${liga}! Ranking atualizado.`);
await atualizarIconesLigas();
};
// ===== PAINEL MASTER =====
window.mudarMasterTab = (tab) => {
document.querySelectorAll('.master-tab').forEach(t => t.classList.remove('active'));
document.querySelectorAll('.master-tab-torneios').forEach(t => t.classList.remove('active'));
event.target.classList.add('active');
document.getElementById('master-usuarios').style.display = tab === 'usuarios' ? 'block' : 'none';
document.getElementById('master-staff').style.display = tab === 'staff' ? 'block' : 'none';
document.getElementById('master-notificacoes').style.display = tab === 'notificacoes' ? 'block' : 'none';
document.getElementById('master-logs').style.display = tab === 'logs' ? 'block' : 'none';
document.getElementById('master-premiacoes').style.display = tab === 'premiacoes' ? 'block' : 'none';
document.getElementById('master-torneios').style.display = tab === 'torneios' ? 'block' : 'none';
if (tab === 'usuarios') carregarUsuariosMaster();
if (tab === 'staff') carregarListaStaff();
if (tab === 'notificacoes') carregarNotificacoes();
if (tab === 'logs') carregarLogsExclusoes();
if (tab === 'torneios') carregarTorneiosMaster();
};
function carregarUsuariosMaster() {
onValue(ref(db, 'usuarios'), (snapshot) => {
const data = snapshot.val();
const listaMaster = document.getElementById('lista-usuarios-master');
if(!listaMaster) return;
listaMaster.innerHTML = "";
if(data) {
Object.values(data).forEach(u => {
if(u.id !== "0001") {
let status = '';
let acoes = '';
if (u.banido) status = '<span style="color: #c0392b;">üî¥ BANIDO</span>';
else if (estaSuspenso(u)) status = `<span style="color: #f39c12;">‚ö†Ô∏è SUSPENSO at√© ${formatarDataSuspenso(u.suspensoAte)}</span>`;
else status = '<span style="color: #27ae60;">üü¢ ATIVO</span>';
if (usuarioLogadoTipo === 'master') {
acoes = `
<button class="btn-edit" onclick="abrirModalEditarId('${u.id}')">‚úèÔ∏è ID</button>
<button class="btn-suspend" onclick="abrirModalSuspender('${u.id}', '${u.nickname}')">‚è∞ SUSPENDER</button>
${u.banido ?
`<button class="btn-revert-ban" onclick="abrirModalReverterBanimento('${u.id}', '${u.nickname}')">‚Ü©Ô∏è REV. BAN</button>` :
`<button class="btn-ban" onclick="banirUsuario('${u.id}')">üö´ BANIR</button>`
}
${estaSuspenso(u) ?
`<button class="btn-revert-suspend" onclick="abrirModalReverterSuspensao('${u.id}', '${u.nickname}')">‚Ü©Ô∏è REV. SUSP</button>` : ''
}
<button class="btn-staff" onclick="abrirModalStaff('${u.id}', '${u.nickname}', '${u.tipo || 'usuario'}')">üõ°Ô∏è STAFF</button>
<button class="btn-delete" onclick="abrirModalExcluirConta('${u.id}', '${u.nickname}')">üóëÔ∏è EXCLUIR</button>
`;
} else if (usuarioLogadoTipo === 'staff') {
acoes = `
<button class="btn-suspend" onclick="abrirModalSuspender('${u.id}', '${u.nickname}')">‚è∞ SUSPENDER</button>
${u.banido ?
`<button class="btn-revert-ban" onclick="abrirModalReverterBanimento('${u.id}', '${u.nickname}')">‚Ü©Ô∏è REV. BAN</button>` :
`<button class="btn-ban" onclick="banirUsuario('${u.id}')">üö´ BANIR</button>`
}
${estaSuspenso(u) ?
`<button class="btn-revert-suspend" onclick="abrirModalReverterSuspensao('${u.id}', '${u.nickname}')">‚Ü©Ô∏è REV. SUSP</button>` : ''
}
`;
}
listaMaster.innerHTML += `<tr>
<td><strong>${u.id}</strong></td>
<td style="font-size:20px;">${u.avatar || 'üé±'}</td>
<td>${u.nickname}</td>
<td>${u.pontos || 0}</td>
<td>${status}</td>
<td>${acoes}</td>
</tr>`;
}
});
}
});
}
window.adicionarStaff = async () => {
const id = document.getElementById('staff-id-input').value.trim();
const mensagemDiv = document.getElementById('staff-mensagem');
if (!id) { mensagemDiv.innerHTML = '<span style="color: #e67e22;">‚ö†Ô∏è Digite um ID!</span>'; return; }
if (id.length !== 4 || isNaN(id)) { mensagemDiv.innerHTML = '<span style="color: #e67e22;">‚ö†Ô∏è ID deve ter 4 d√≠gitos!</span>'; return; }
const snap = await get(child(ref(db), `usuarios/${id}`));
if (!snap.exists()) { mensagemDiv.innerHTML = `<span style="color: #c0392b;">‚ùå Jogador n√£o encontrado!</span>`; return; }
const usuario = snap.val();
if (usuario.tipo === 'master') { mensagemDiv.innerHTML = '<span style="color: #f39c12;">üëë √â o Master!</span>'; return; }
if (usuario.tipo === 'staff') { mensagemDiv.innerHTML = `<span style="color: #f39c12;">‚ö†Ô∏è J√° √© staff!</span>`; return; }
await update(ref(db, `usuarios/${id}`), { tipo: 'staff' });
mensagemDiv.innerHTML = `<span style="color: #27ae60;">‚úÖ ${usuario.nickname} agora √© staff!</span>`;
document.getElementById('staff-id-input').value = '';
carregarListaStaff();
setTimeout(() => mensagemDiv.innerHTML = '', 3000);
};
async function carregarListaStaff() {
const snapshot = await get(ref(db, 'usuarios'));
const data = snapshot.val();
const tbody = document.getElementById('lista-staff-tbody');
const vazioDiv = document.getElementById('staff-vazio');
if (!tbody) return;
tbody.innerHTML = "";
let temStaff = false;
if (data) {
Object.values(data).forEach(u => {
if (u.id === "0001") {
temStaff = true;
tbody.innerHTML += `<tr style="background:rgba(241,196,15,0.1);">
<td style="font-size:20px;">${u.avatar || 'üëë'}</td>
<td><strong>${u.id}</strong></td>
<td>${u.nickname} <span style="background:#f1c40f; color:#000; padding:2px 6px; border-radius:4px;">MASTER</span></td>
<td>üëë Master</td>
<td>-</td>
</tr>`;
}
});
Object.values(data).forEach(u => {
if (u.tipo === 'staff' && u.id !== "0001") {
temStaff = true;
tbody.innerHTML += `<tr>
<td style="font-size:20px;">${u.avatar || 'üõ°Ô∏è'}</td>
<td><strong>${u.id}</strong></td>
<td>${u.nickname}</td>
<td>üõ°Ô∏è Staff</td>
<td><button class="btn-ban" onclick="removerStaff('${u.id}', '${u.nickname}')" style="background:#c0392b;">‚ùå REMOVER</button></td>
</tr>`;
}
});
}
vazioDiv.style.display = temStaff ? 'none' : 'block';
}
window.removerStaff = async (id, nome) => {
if (confirm(`Remover ${nome} do staff?`)) {
await update(ref(db, `usuarios/${id}`), { tipo: 'usuario' });
carregarListaStaff();
}
};
async function carregarNotificacoes() {
const snapshot = await get(ref(db, 'notificacoes'));
const data = snapshot.val();
const listaNotif = document.getElementById('lista-notificacoes');
const agora = Date.now();
const meiaHora = 30 * 60 * 1000;
listaNotif.innerHTML = "";
if (data) {
const notificacoes = Object.entries(data)
.map(([k,v]) => ({ id: k, ...v }))
.filter(n => (agora - n.timestamp) <= meiaHora)
.sort((a,b) => b.timestamp - a.timestamp);
if (notificacoes.length === 0) {
listaNotif.innerHTML = '<div style="text-align:center; padding:30px;">üì≠ Nenhuma notifica√ß√£o</div>';
return;
}
notificacoes.forEach(notif => {
const dataNotif = new Date(notif.timestamp).toLocaleString('pt-BR');
listaNotif.innerHTML += `
<div class="notificacao-item">
<div style="display:flex; justify-content:space-between;">
<div><span class="badge">${notif.liga}</span> <strong class="vencedor">${notif.vencedorNome}</strong> vs <strong class="perdedor">${notif.perdedorNome}</strong></div>
${usuarioLogadoTipo === 'master' ?
`<button class="btn-revert" onclick="abrirModalReverter('${notif.id}', '${notif.vencedorId}', '${notif.perdedorId}', ${notif.quantidade}, ${notif.pontosGanhos})">‚Ü©Ô∏è REVERTER</button>` : ''
}
</div>
<div>${notif.quantidade}x derrotas | +${notif.pontosGanhos} pts</div>
<div class="tempo">üìÖ ${dataNotif}</div>
</div>
`;
});
} else {
listaNotif.innerHTML = '<div style="text-align:center; padding:30px;">üì≠ Nenhuma notifica√ß√£o</div>';
}
}
async function carregarLogsExclusoes() {
const snapshot = await get(ref(db, 'logs/exclusoes'));
const data = snapshot.val();
const listaLogs = document.getElementById('lista-logs');
listaLogs.innerHTML = "";
if (data) {
const logs = Object.entries(data).map(([k,v]) => ({ id: k, ...v })).sort((a,b) => b.timestamp - a.timestamp);
logs.forEach(log => {
listaLogs.innerHTML += `
<div class="notificacao-item" style="border-left-color:#c0392b;">
<div><strong style="color:#c0392b;">üóëÔ∏è EXCLUS√ÉO</strong></div>
<div>${log.usuarioExcluidoNome} (ID: ${log.usuarioExcluidoId})</div>
<div class="tempo">Por: ${log.adminNome} | ${new Date(log.timestamp).toLocaleString('pt-BR')}</div>
</div>
`;
});
} else {
listaLogs.innerHTML = '<div style="text-align:center; padding:30px;">üì≠ Nenhuma exclus√£o</div>';
}
}
window.abrirModalReverter = (notifId, vencedorId, perdedorId, qtd, pontos) => {
notificacaoSelecionada = { notifId, vencedorId, perdedorId, qtd, pontos };
document.getElementById('revert-info').innerHTML = `Reverter notifica√ß√£o?<br>Vencedor: ${vencedorId}<br>Perdedor: ${perdedorId}<br>${qtd} derrotas, ${pontos} pontos`;
document.getElementById('modal-revert-notif').style.display = 'flex';
};
window.confirmarReverter = async () => {
const n = notificacaoSelecionada;
const snapV = await get(child(ref(db), `usuarios/${n.vencedorId}`));
const snapP = await get(child(ref(db), `usuarios/${n.perdedorId}`));
const v = snapV.val(), p = snapP.val();
await update(ref(db, `usuarios/${n.vencedorId}`), { pontos: (v.pontos||0) - n.pontos, v: (v.v||0) - n.qtd });
await update(ref(db, `usuarios/${n.perdedorId}`), { pontos: (p.pontos||0) + n.pontos, d: (p.d||0) - n.qtd });
await remove(ref(db, `notificacoes/${n.notifId}`));
alert("‚úÖ Notifica√ß√£o revertida!");
fecharModal('modal-revert-notif');
carregarNotificacoes();
};
window.banirUsuario = async (id) => {
if(confirm(`Banir ID ${id}?`)) {
await update(ref(db, `usuarios/${id}`), { banido: true, status: 'banido' });
alert(`Usu√°rio ${id} banido!`);
}
};
window.abrirModalSuspender = (id, nome) => {
usuarioSelecionado = id;
document.getElementById('suspend-user-info').innerHTML = `Suspender: <strong>${nome}</strong> (ID: ${id})`;
document.getElementById('modal-suspender').style.display = 'flex';
};
window.confirmarSuspender = async () => {
const tempo = parseInt(document.getElementById('tempo-suspensao').value);
const suspensoAte = Date.now() + tempo;
await update(ref(db, `usuarios/${usuarioSelecionado}`), { suspensoAte, status: 'suspenso' });
alert(`Suspenso at√© ${formatarDataSuspenso(suspensoAte)}!`);
fecharModal('modal-suspender');
};
window.abrirModalStaff = (id, nome, tipoAtual) => {
if (usuarioLogadoTipo !== 'master') { alert("Apenas Master!"); return; }
usuarioSelecionado = id;
document.getElementById('staff-user-info').innerHTML = `Gerenciar: <strong>${nome}</strong> (ID: ${id})`;
document.getElementById('modal-staff').style.display = 'flex';
};
window.confirmarStaff = async () => {
const acao = document.getElementById('staff-tipo').value;
await update(ref(db, `usuarios/${usuarioSelecionado}`), { tipo: acao === 'staff' ? 'staff' : 'usuario' });
alert(acao === 'staff' ? "Promovido a Staff!" : "Staff removido!");
fecharModal('modal-staff');
carregarListaStaff();
};
window.abrirModalEditarId = (id) => {
if (usuarioLogadoTipo !== 'master') { alert("Apenas Master!"); return; }
usuarioSelecionado = id;
document.getElementById('edit-user-id').value = id;
document.getElementById('edit-new-id').value = '';
document.getElementById('modal-edit-id').style.display = 'flex';
};
window.confirmarAlterarId = async () => {
const novoId = document.getElementById('edit-new-id').value.trim();
if (!novoId || !/^\d+$/.test(novoId)) { alert("ID inv√°lido!"); return; }
const snap = await get(child(ref(db), `usuarios/${novoId}`));
if (snap.exists()) { alert("ID j√° existe!"); return; }
const snapOld = await get(child(ref(db), `usuarios/${usuarioSelecionado}`));
const userData = snapOld.val();
await set(ref(db, `usuarios/${novoId}`), { ...userData, id: novoId });
await remove(ref(db, `usuarios/${usuarioSelecionado}`));
alert(`ID alterado para ${novoId}!`);
fecharModal('modal-edit-id');
};
window.abrirModalExcluirConta = (id, nome) => {
if (usuarioLogadoTipo !== 'master') { alert("Apenas Master!"); return; }
contaParaExcluir = id;
document.getElementById('excluir-user-info').innerHTML = `Excluir <strong>${nome}</strong> (ID: ${id})?`;
document.getElementById('modal-excluir-conta').style.display = 'flex';
};
window.confirmarExcluirConta = async () => {
if (!contaParaExcluir) return;
await remove(ref(db, `usuarios/${contaParaExcluir}`));
// Log da exclus√£o
await push(ref(db, 'logs/exclusoes'), {
usuarioExcluidoId: contaParaExcluir,
usuarioExcluidoNome: nome,
adminNome: usuarioLogado.nickname,
timestamp: Date.now()
});
alert("Conta exclu√≠da!");
fecharModal('modal-excluir-conta');
carregarUsuariosMaster();
};
window.abrirModalReverterBanimento = (id, nome) => {
if (usuarioLogadoTipo !== 'master' && usuarioLogadoTipo !== 'staff') { alert("Apenas Master/Staff!"); return; }
usuarioSelecionado = id;
document.getElementById('reverter-ban-info').innerHTML = `Reverter banimento de <strong>${nome}</strong> (ID: ${id})?`;
document.getElementById('modal-reverter-banimento').style.display = 'flex';
};
window.confirmarReverterBanimento = async () => {
await update(ref(db, `usuarios/${usuarioSelecionado}`), { banido: false, status: 'ativo' });
alert("Banimento revertido!");
fecharModal('modal-reverter-banimento');
carregarUsuariosMaster();
};
window.abrirModalReverterSuspensao = (id, nome) => {
if (usuarioLogadoTipo !== 'master' && usuarioLogadoTipo !== 'staff') { alert("Apenas Master/Staff!"); return; }
usuarioSelecionado = id;
document.getElementById('reverter-suspend-info').innerHTML = `Reverter suspens√£o de <strong>${nome}</strong> (ID: ${id})?`;
document.getElementById('modal-reverter-suspensao').style.display = 'flex';
};
window.confirmarReverterSuspensao = async () => {
await update(ref(db, `usuarios/${usuarioSelecionado}`), { suspensoAte: null, status: 'ativo' });
alert("Suspens√£o revertida!");
fecharModal('modal-reverter-suspensao');
carregarUsuariosMaster();
};
window.filtrarUsuarios = () => {
const filtro = document.getElementById('search-user').value.toLowerCase();
document.querySelectorAll('#lista-usuarios-master tr').forEach(linha => {
linha.style.display = linha.innerText.toLowerCase().includes(filtro) ? '' : 'none';
});
};

// ===== FUN√á√ïES DE TORNEIOS =====
window.carregarTorneios = async () => {
    const snapshot = await get(ref(db, 'torneios'));
    const data = snapshot.val();
    torneiosAtivos = [];
    if (data) {
        torneiosAtivos = Object.values(data).sort((a, b) => b.dataCriacao - a.dataCriacao);
    }
    renderizarCentralTorneios();
};

window.renderizarCentralTorneios = () => {
    const grid = document.getElementById('torneios-grid');
    const vazio = document.getElementById('torneios-vazio');
    if (!grid) return;
    
    grid.innerHTML = '';
    
    if (torneiosAtivos.length === 0) {
        vazio.style.display = 'block';
        return;
    }
    vazio.style.display = 'none';
    
    torneiosAtivos.forEach(t => {
        let statusClass = 'status-inscricoes';
        let statusText = 'Inscri√ß√µes Abertas';
        if (t.status === 'em_andamento') { statusClass = 'status-andamento'; statusText = 'Em Andamento'; }
        if (t.status === 'finalizado') { statusClass = 'status-finalizado'; statusText = 'Finalizado'; }
        
        // Contar participantes (simulado para exibi√ß√£o)
        const qtdParticipantes = t.maxParticipantes; 
        
        const card = document.createElement('div');
        card.className = 'torneio-card';
        card.innerHTML = `
            <div class="torneio-status ${statusClass}">${statusText}</div>
            <h3 style="color:#f1c40f; margin-bottom:10px;">${t.nome}</h3>
            <div class="torneio-info">üèÜ Liga: ${t.liga}</div>
            <div class="torneio-info">üë• Vagas: ${qtdParticipantes}</div>
            <div class="torneio-info">üìÖ In√≠cio: ${new Date(t.dataInicioTorneio).toLocaleDateString()}</div>
            <button class="btn-torneio-inscricao" onclick="abrirTorneio('${t.id}')">VER DETALHES</button>
        `;
        grid.appendChild(card);
    });
};

window.abrirTorneio = async (id) => {
    const torneioSnap = await get(ref(db, `torneios/${id}`));
    if (!torneioSnap.exists()) { alert("Torneio n√£o encontrado!"); return; }
    torneioAtual = torneioSnap.val();
    
    showSection('torneio-view');
    document.getElementById('torneio-view-title').innerText = `üèÜ ${torneioAtual.nome}`;
    
    const container = document.getElementById('torneio-detalhes-container');
    if (!container) return;
    
    let html = `
        <div class="torneio-card" style="margin-bottom:20px;">
            <h3 style="color:#f1c40f;">Informa√ß√µes</h3>
            <p class="torneio-info">${torneioAtual.descricao}</p>
            <p class="torneio-info">Status: <strong>${torneioAtual.status}</strong></p>
            <p class="torneio-info">Pr√™mio: ${torneioAtual.pontosExtras} pontos extras</p>
        </div>
    `;
    
    // Se estiver em andamento e eu estiver participando, mostrar minha partida
    if (torneioAtual.status === 'em_andamento' && usuarioLogado) {
        // Buscar inscri√ß√£o
        const inscSnap = await get(ref(db, `torneios/${id}/inscricoes/${usuarioLogado.id}`));
        if (inscSnap.exists()) {
            // Buscar partida atual do jogador na chave
            const chaveSnap = await get(ref(db, `torneios/${id}/chave`));
            if (chaveSnap.exists()) {
                const chave = chaveSnap.val();
                let minhaPartida = null;
                let partidaId = null;
                
                for (const [pid, partida] of Object.entries(chave)) {
                    if (partida.jogador1Id === usuarioLogado.id || partida.jogador2Id === usuarioLogado.id) {
                        if (partida.status === 'pendente') {
                            minhaPartida = partida;
                            partidaId = pid;
                            break;
                        }
                    }
                }
                
                if (minhaPartida) {
                    const advId = minhaPartida.jogador1Id === usuarioLogado.id ? minhaPartida.jogador2Id : minhaPartida.jogador1Id;
                    const advSnap = await get(ref(db, `usuarios/${advId}`));
                    const advNome = advSnap.exists() ? advSnap.val().nickname : 'Desconhecido';
                    
                    html += `
                        <div class="partida-card">
                            <h4 style="color:#f1c40f; margin-bottom:10px;">Sua Partida Atual</h4>
                            <p>Voc√™ vs <strong>${advNome}</strong></p>
                            <p style="font-size:11px; color:#bdc3c7;">Prazo: 1 hora</p>
                            <button class="btn-torneio-derrota" onclick="abrirModalDerrotaTorneio('${partidaId}', '${advNome}')">üèÜ REPORTAR DERROTA NO TORNEIO</button>
                        </div>
                    `;
                }
            }
        }
    }
    
    // Chaveamento (Simplificado para visualiza√ß√£o)
    html += `<h3 style="margin-top:20px; color:#2c3e50;">Chaveamento</h3><div class="chave-container"><div class="chave-rodada">`;
    html += `<div class="chave-partida">Oitavas de Final<br><small>Em breve...</small></div>`;
    html += `</div></div>`;
    
    container.innerHTML = html;
};

window.abrirModalDerrotaTorneio = (partidaId, adversarioNome) => {
    partidaTorneioSelecionada = partidaId;
    document.getElementById('derrota-torneio-info').innerHTML = `Confirmar derrota para <strong>${adversarioNome}</strong>?`;
    document.getElementById('modal-derrota-torneio').style.display = 'flex';
};

window.confirmarDerrotaTorneio = async () => {
    if (!partidaTorneioSelecionada || !torneioAtual) return;
    
    // L√≥gica simplificada: Atualiza a partida como finalizada e define o outro como vencedor
    // Em produ√ß√£o, validaria se √© realmente o jogador da partida
    await update(ref(db, `torneios/${torneioAtual.id}/chave/${partidaTorneioSelecionada}`), {
        status: 'finalizada',
        // vencedorId seria calculado aqui baseado em quem N√ÉO reportou
    });
    
    alert("Derrota reportada! O advers√°rio avan√ßou na chave.");
    fecharModal('modal-derrota-torneio');
    abrirTorneio(torneioAtual.id); // Recarrega
};

// FUN√á√ÉO CRIAR TORNEIO (PERMITIDO PARA STAFF)
window.criarTorneio = async () => {
    // PERMISS√ÉO ALTERADA: Master OU Staff
    if (usuarioLogadoTipo !== 'master' && usuarioLogadoTipo !== 'staff') { alert("Apenas Master ou Staff!"); return; }
    
    const nome = document.getElementById('torneio-nome').value;
    const liga = document.getElementById('torneio-liga').value;
    const descricao = document.getElementById('torneio-descricao').value;
    const max = parseInt(document.getElementById('torneio-max').value);
    const pontos = parseInt(document.getElementById('torneio-pontos').value);
    
    if (!nome) { alert("Nome obrigat√≥rio!"); return; }
    
    const novoTorneio = {
        id: 'torneio-' + Date.now(),
        nome, liga, descricao,
        criadoPor: usuarioLogado.id,
        dataCriacao: Date.now(),
        dataInicioInscricao: Date.now(),
        dataFimInscricao: Date.now() + 86400000, // 24h
        dataInicioTorneio: Date.now() + 90000000,
        maxParticipantes: max,
        minParticipantes: 4,
        status: 'inscricoes',
        campeaoId: null,
        campeaoNome: null,
        pontosExtras: pontos
    };
    
    await set(ref(db, `torneios/${novoTorneio.id}`), novoTorneio);
    alert("Torneio criado com sucesso!");
    carregarTorneiosMaster();
    carregarTorneios();
};

// FUN√á√ÉO CARREGAR TORNEIOS MASTER COM LIXEIRA
window.carregarTorneiosMaster = async () => {
    const snapshot = await get(ref(db, 'torneios'));
    const data = snapshot.val();
    const tbody = document.getElementById('lista-torneios-master');
    if (!tbody) return;
    tbody.innerHTML = '';
    
    if (data) {
        Object.values(data).forEach(t => {
            // Bot√£o de excluir (Lixeira) vis√≠vel para Master e Staff
            const btnExcluir = (usuarioLogadoTipo === 'master' || usuarioLogadoTipo === 'staff') 
                ? `<button class="btn-delete" onclick="excluirTorneio('${t.id}')">üóëÔ∏è</button>` 
                : '';

            tbody.innerHTML += `
                <tr>
                    <td>${t.nome}</td>
                    <td>${t.liga}</td>
                    <td>${t.status}</td>
                    <td>${t.maxParticipantes}</td>
                    <td>
                        <button class="btn-edit" onclick="alert('Funcionalidade de editar em desenvolvimento')">‚úèÔ∏è</button>
                        ${t.status === 'inscricoes' ? `<button class="btn-suspend" onclick="alert('Iniciar torneio ${t.id}')">‚ñ∂Ô∏è INICIAR</button>` : ''}
                        ${btnExcluir}
                    </td>
                </tr>
            `;
        });
    }
};

// FUN√á√ÉO EXCLUIR TORNEIO (LIXEIRA)
window.excluirTorneio = async (id) => {
    if(!confirm("Tem certeza que deseja excluir este torneio? Esta a√ß√£o apagar√° todas as inscri√ß√µes e chaves.")) return;
    
    // Remove o torneio principal
    await remove(ref(db, `torneios/${id}`));
    // Remove sub-cole√ß√µes (limpeza manual necess√°ria no Firebase Realtime DB se houver n√≥s filhos)
    // No RTDB, ao remover o pai, os filhos s√£o removidos automaticamente.
    
    alert("Torneio exclu√≠do com sucesso!");
    carregarTorneiosMaster();
    carregarTorneios();
};

// ===== CONDECORA√á√ïES E PREMIA√á√ïES =====
window.carregarConquistas = async () => {
    if (!usuarioLogado) return;
    const snap = await get(ref(db, `usuarios/${usuarioLogado.id}/conquistas`));
    const lista = document.getElementById('lista-conquistas');
    if (!lista) return;
    
    if (!snap.exists()) {
        lista.innerHTML = 'Nenhum torneio vencido ainda';
        return;
    }
    
    const conquistas = snap.val();
    let html = '';
    Object.values(conquistas).forEach(c => {
        html += `<div class="conquista-item">üèÜ ${c.nome} (${new Date(c.data).toLocaleDateString()})</div>`;
    });
    lista.innerHTML = html;
};

window.carregarCondecoracoes = async () => {
    if (!usuarioLogado) return;
    const snap = await get(ref(db, `usuarios/${usuarioLogado.id}/condecoracoes`));
    const lista = document.getElementById('lista-condecoracoes');
    if (!lista) return;

    if (!snap.exists()) {
        lista.innerHTML = 'Nenhuma condecora√ß√£o ainda';
        return;
    }

    const condecoracoes = snap.val();
    let html = '';
    Object.values(condecoracoes).forEach(c => {
        let icone = c.tipo === 'mestre' ? 'üëë' : 'üî•';
        let classe = c.tipo === 'mestre' ? 'emblema-mestre' : 'emblema-streak';
        html += `<div class="condecoracao-item"><span class="${classe}">${icone} ${c.titulo}</span> <small>(${c.mes})</small></div>`;
    });
    lista.innerHTML = html;
};

// FUN√á√ÉO FECHAR M√äS E PREMIAR (MASTER)
window.fecharMesEPremiar = async () => {
    if (usuarioLogadoTipo !== 'master') { alert("Apenas Master!"); return; }
    const msgDiv = document.getElementById('msg-premiacao');
    msgDiv.innerHTML = "Processando...";
    msgDiv.style.color = "#f1c40f";

    const now = new Date();
    const mesAtual = now.toLocaleString('default', { month: 'long', year: 'numeric' });
    const chaveMes = now.toISOString().slice(0, 7); // YYYY-MM

    const ligas = ['BOLA 8', 'BOLA 9', 'TRUCO'];
    let premiadosCount = 0;

    try {
        for (const liga of ligas) {
            // 1. L√≠der de Pontos
            const snapPontos = await get(ref(db, `ligas/${liga}/estatisticas`));
            const dadosPontos = snapPontos.val();
            if (dadosPontos) {
                const sortedPontos = Object.entries(dadosPontos).sort((a,b) => (b[1].pontos||0) - (a[1].pontos||0));
                if (sortedPontos.length > 0) {
                    const idMestre = sortedPontos[0][0];
                    const userMestre = await get(ref(db, `usuarios/${idMestre}`));
                    if (userMestre.exists()) {
                        const nick = userMestre.val().nickname;
                        await push(ref(db, `usuarios/${idMestre}/condecoracoes`), {
                            tipo: 'mestre',
                            titulo: `Mestre da ${liga}`,
                            mes: mesAtual,
                            data: Date.now()
                        });
                        premiadosCount++;
                    }
                }
            }

            // 2. L√≠der de Streak (Calculado na hora baseado no hist√≥rico global ou da liga se tiver)
            // Para simplificar, usaremos o hist√≥rico global do usu√°rio para calcular o streak atual
            const snapEstats = await get(ref(db, `ligas/${liga}/estatisticas`));
            const dadosEstats = snapEstats.val();
            if (dadosEstats) {
                let melhorStreak = -1;
                let idStreak = null;

                for (const [id, stats] of Object.entries(dadosEstats)) {
                    const userSnap = await get(ref(db, `usuarios/${id}`));
                    const user = userSnap.val();
                    if (user && user.historico) {
                        const s = calcularStreak(user);
                        if (s > melhorStreak) {
                            melhorStreak = s;
                            idStreak = id;
                        }
                    }
                }

                if (idStreak && melhorStreak > 0) {
                    const userStreak = await get(ref(db, `usuarios/${idStreak}`));
                    if (userStreak.exists()) {
                        const nick = userStreak.val().nickname;
                        await push(ref(db, `usuarios/${idStreak}/condecoracoes`), {
                            tipo: 'streak',
                            titulo: `Rei do Streak ${liga}`,
                            mes: mesAtual,
                            data: Date.now()
                        });
                        premiadosCount++;
                    }
                }
            }
        }
        
        msgDiv.innerHTML = `‚úÖ Sucesso! ${premiadosCount} condecora√ß√µes entregues para ${mesAtual}.`;
        msgDiv.style.color = "#27ae60";
    } catch (e) {
        console.error(e);
        msgDiv.innerHTML = "‚ùå Erro ao premiar.";
        msgDiv.style.color = "#c0392b";
    }
};

window.registrarConquista = async (jogadorId, torneioId, posicao) => {
    const torneioSnap = await get(ref(db, `torneios/${torneioId}`));
    if (!torneioSnap.exists()) return;
    const torneio = torneioSnap.val();
    
    await push(ref(db, `usuarios/${jogadorId}/conquistas`), {
        torneioId,
        nome: torneio.nome,
        data: Date.now(),
        posicao
    });
};

// Cron job para verificar tempos (simulado)
window.verificarTempoLimiteTorneios = () => {
    // Implementa√ß√£o real exigiria Cloud Functions ou loop constante verificando timestamps
    console.log("Verificando limites de tempo dos torneios...");
};

// ===== FUN√á√ïES GLOBAIS =====
window.showSection = (id) => {
document.querySelectorAll('main > section').forEach(s => s.style.display = 'none');
document.getElementById('section-' + id).style.display = 'block';
if (id === 'jogos') {
if (!document.getElementById('truco-container').style.display === 'block') {
document.getElementById('truco-container').style.display = 'none';
}
}
};
window.fazerLogout = () => { if(confirm("Desligar?")) location.reload(); };
window.fecharModal = (id) => document.getElementById(id).style.display = 'none';
window.onclick = (e) => {
if (e.target.classList.contains('modal')) e.target.style.display = 'none';
if (e.target.classList.contains('estatisticas-modal')) e.target.style.display = 'none';
if (e.target.id === 'modal-perfil-jogador') fecharModalPerfil();
};
// ===== INICIALIZA√á√ÉO =====
function gerarOpcoesData() {
const diaSelect = document.getElementById('dia-nasc');
const anoSelect = document.getElementById('ano-nasc');
if (diaSelect) {
diaSelect.innerHTML = '<option value="">Dia</option>';
for (let i = 1; i <= 31; i++) {
const opt = document.createElement('option');
opt.value = i;
opt.textContent = i.toString().padStart(2, '0');
diaSelect.appendChild(opt);
}
}
if (anoSelect) {
anoSelect.innerHTML = '<option value="">Ano</option>';
const anoAtual = new Date().getFullYear();
for (let i = anoAtual - 13; i >= anoAtual - 100; i--) {
const opt = document.createElement('option');
opt.value = i;
opt.textContent = i;
anoSelect.appendChild(opt);
}
}
}
document.getElementById('btn-cadastro-firebase').onclick = async () => {
const nick = document.getElementById('reg-nick').value;
const pass = document.getElementById('reg-pass').value;
const passConfirm = document.getElementById('reg-pass-confirm')?.value;
const dia = document.getElementById('dia-nasc')?.value;
const mes = document.getElementById('mes-nasc')?.value;
const ano = document.getElementById('ano-nasc')?.value;
const termos = document.getElementById('termos')?.checked;
if (nick === "LSJO_" || nick.length < 6) { alert("Nome com pelo menos 6 caracteres!"); return; }
if (pass.length < 6) { alert("Senha m√≠nima 6 caracteres!"); return; }
if (pass !== passConfirm) { alert("Senhas n√£o conferem!"); return; }
if (!dia || !mes || !ano) { alert("Preencha data de nascimento!"); return; }
if (!termos) { alert("Aceite os termos!"); return; }
const dataNasc = new Date(ano, mes-1, dia);
const hoje = new Date();
let idade = hoje.getFullYear() - dataNasc.getFullYear();
const mesDiff = hoje.getMonth() - dataNasc.getMonth();
if (mesDiff < 0 || (mesDiff === 0 && hoje.getDate() < dataNasc.getDate())) idade--;
if (idade < 13) { alert("Voc√™ deve ter 13 anos ou mais!"); return; }
const usuariosSnap = await get(ref(db, 'usuarios'));
const usuarios = usuariosSnap.val();
let nicknameExiste = false;
if (usuarios) Object.values(usuarios).forEach(u => { if (u.nickname === nick) nicknameExiste = true; });
if (nicknameExiste) { alert("Nome j√° em uso!"); return; }
let id, idExiste = true;
while (idExiste) {
id = Math.floor(1000 + Math.random() * 9000).toString();
idExiste = (await get(child(ref(db), `usuarios/${id}`))).exists();
}
try {
await set(ref(db, 'usuarios/' + id), {
nickname: nick, senha: pass, id: id, pontos: 0, v: 0, d: 0,
status: 'ativo', banido: false, tipo: 'usuario', avatar: 'üé±',
historico: [], dataNasc: `${dia}/${mes}/${ano}`,
email: document.getElementById('reg-email')?.value || '',
dataCadastro: new Date().toISOString()
});
alert(`‚úÖ Conta criada! ID: ${id}`);
showSection('home');
} catch (error) {
alert("Erro: " + error.message);
}
};
function carregarUltimasNotificacoes() {
const notifRef = ref(db, 'notificacoes');
const listaDiv = document.getElementById('lista-ultimas-notificacoes');
const loadingDiv = document.getElementById('loading-notificacoes');
onValue(notifRef, async (snapshot) => {
const data = snapshot.val();
if (!data) {
loadingDiv.style.display = 'none';
listaDiv.innerHTML = '<div style="text-align:center; padding:15px;">üì≠ Nenhuma notifica√ß√£o</div>';
return;
}
const notificacoes = Object.entries(data).map(([k,v]) => ({ id:k, ...v })).sort((a,b) => b.timestamp - a.timestamp).slice(0,5);
const notificacoesComNomes = await Promise.all(notificacoes.map(async (notif) => {
const vSnap = await get(child(ref(db), `usuarios/${notif.vencedorId}`));
const pSnap = await get(child(ref(db), `usuarios/${notif.perdedorId}`));
return { ...notif, vencedorNome: vSnap.val()?.nickname || 'Desconhecido', perdedorNome: pSnap.val()?.nickname || 'Desconhecido' };
}));
loadingDiv.style.display = 'none';
let html = '';
const agora = Date.now();
notificacoesComNomes.forEach(notif => {
let iconeLiga = 'üé±', classeLiga = 'liga-bola8';
if (notif.liga === 'BOLA 9') { iconeLiga = '9Ô∏è‚É£'; classeLiga = 'liga-bola9'; }
else if (notif.liga === 'TRUCO') { iconeLiga = 'üÉè'; classeLiga = 'liga-truco'; }
const diffMin = Math.round((agora - notif.timestamp) / 60000);
let tempo = diffMin < 1 ? 'agora' : diffMin === 1 ? '1 min' : diffMin < 60 ? `${diffMin} min` : diffMin < 120 ? '1h' : `${Math.floor(diffMin/60)}h`;
html += `
<div class="notificacao-item-publico ${classeLiga}">
<div class="notificacao-header">
<span class="notificacao-icone-liga">${iconeLiga}</span>
<span class="notificacao-vencedor">${notif.vencedorNome}</span>
<span>‚ñ∂Ô∏è</span>
<span class="notificacao-perdedor">${notif.perdedorNome}</span>
</div>
<div class="notificacao-detalhes">
<span class="notificacao-quantidade">${notif.quantidade}x</span>
<span class="notificacao-tempo">${tempo}</span>
</div>
</div>
`;
});
listaDiv.innerHTML = html;
}, (error) => {
loadingDiv.style.display = 'none';
listaDiv.innerHTML = '<div style="text-align:center; color:#c0392b;">‚ùå Erro</div>';
});
}
function atualizarRelogio() {
const agora = new Date();
const info = document.getElementById('relogio');
if(info) {
info.querySelector('span:first-child').innerHTML = `üìÖ ${agora.toLocaleDateString('pt-BR')} - ‚è∞ ${agora.toLocaleTimeString('pt-BR')}`;
document.getElementById('total-jogadores-info').innerHTML = `üë• Total: ${totalJogadores} jogadores`;
}
}
// ===== FUN√á√ÉO PARA MOSTRAR/OCULTAR SENHA =====
window.togglePassword = () => {
const passInput = document.getElementById('login-pass');
const toggleIcon = document.querySelector('.password-toggle');
if (passInput.type === 'password') {
passInput.type = 'text';
toggleIcon.innerText = 'üôà'; // √çcone de olhos fechados
} else {
passInput.type = 'password';
toggleIcon.innerText = 'üëÅÔ∏è'; // √çcone de olhos abertos
}
};
document.addEventListener('DOMContentLoaded', () => {
gerarOpcoesData();
setInterval(atualizarRelogio, 1000);
atualizarRelogio();
showSection('home');
carregarUltimasNotificacoes();
setTimeout(verificarParametroJogo, 500);
// Inicializar Torneios
carregarTorneios();
setInterval(verificarTempoLimiteTorneios, 60000);
});
</script>
<script>
function validarPrefixo(input) {
if (!input.value.startsWith("LSJO_")) input.value = "LSJO_";
const restantes = 15 - input.value.length;
document.getElementById('contador').innerHTML = `${restantes} caracteres restantes`;
document.getElementById('contador').style.color = restantes < 3 ? '#c0392b' : '#2980b9';
}
// Removida fun√ß√£o showSection duplicada para evitar conflitos com a do m√≥dulo
function fazerLogout() {
if(confirm("Deseja realmente desligar?")) location.reload();
}
</script>
</body>
</html>
